#include <stdlib.h>

#include <stdio.h>
#include <assert.h>
#include <malloc.h>



#ifndef ltrie_lexer_h	
#define ltrie_lexer_h	








typedef struct source{
	const char *s;
	const char * se;
	unsigned int  pos:9, line:20, sh:3;
	unsigned ch;
} source;






	
	
#define match_fn_matched { return -1; }

#define notmatch {	*src = old_ctx; return 0; }
	
// #define match_fn_failed(err_code)  { *src = old_ctx; return ( err_code ); }



typedef int (*matcher_fn)(source*);

typedef struct matcher_table {
  matcher_fn matcher;
	const char * name;
} matcher_table;

typedef struct matcher_group {
	matcher_fn matcher;
	// int id;
} matcher_group;


/* тип  */
typedef unsigned unicode_char; 

typedef struct range_table {
	unicode_char first;
	unicode_char last;
	int step;
} range_table;

static int find_in_range(range_table *t, size_t size, unicode_char ch){
	size_t begin=0, end=size; 

	while (begin < end) {
		size_t mid = (begin + end) / 2;
		if (t[mid].last < ch){
			begin = mid + 1;
		}else if (t[mid].first > ch){
			end = mid;
		}else {
			return ((ch - t[mid].first) % t[mid].step) == 0;
		}
	}
	
	return 0;
}


typedef struct range_map {
	unsigned int first;
	unsigned int last;
	int step;
	int attribute; // это поле содержит признаки   
} range_map;

static int detect_charset(range_map *t, size_t size, unsigned ch) {
	size_t begin=0, end=size; 

	while (begin < end) {
		int mid = (begin + end) / 2;
		if (t[mid].last < ch)
			begin = mid + 1;
		else if (t[mid].first > ch)
			end = mid;
		else
			return ((ch - t[mid].first) % t[mid].step == 0) ? t[mid].attribute : 0;
	}
	
	return 0;
}	

	


#define table_size(t) (sizeof(t)/sizeof((t)[0]))

#define define_category(name) int is_charclass_##name(unsigned ch) \
{ return find_in_range(name##_charset, table_size(name##_charset), ch); }

static struct range_table sys_A_charset[] = {
    { 0x41, 0x5A, 1 },
    { 0x61, 0x7A, 1 },
    { 0xAA, 0xB5, 11 },
    { 0xBA, 0xC0, 6 },
    { 0xC1, 0xD6, 1 },
    { 0xD8, 0xF6, 1 },
    { 0xF8, 0x2C1, 1 },
    { 0x2C6, 0x2D1, 1 },
    { 0x2E0, 0x2E4, 1 },
    { 0x2EC, 0x2EE, 2 },
    { 0x345, 0x370, 43 },
    { 0x371, 0x374, 1 },
    { 0x376, 0x377, 1 },
    { 0x37A, 0x37D, 1 },
    { 0x37F, 0x386, 7 },
    { 0x388, 0x38A, 1 },
    { 0x38C, 0x38E, 2 },
    { 0x38F, 0x3A1, 1 },
    { 0x3A3, 0x3F5, 1 },
    { 0x3F7, 0x481, 1 },
    { 0x48A, 0x52F, 1 },
    { 0x531, 0x556, 1 },
    { 0x559, 0x561, 8 },
    { 0x562, 0x587, 1 },
    { 0x5B0, 0x5BD, 1 },
    { 0x5BF, 0x5C1, 2 },
    { 0x5C2, 0x5C4, 2 },
    { 0x5C5, 0x5C7, 2 },
    { 0x5D0, 0x5EA, 1 },
    { 0x5F0, 0x5F2, 1 },
    { 0x610, 0x61A, 1 },
    { 0x620, 0x657, 1 },
    { 0x659, 0x65F, 1 },
    { 0x66E, 0x6D3, 1 },
    { 0x6D5, 0x6DC, 1 },
    { 0x6E1, 0x6E8, 1 },
    { 0x6ED, 0x6EF, 1 },
    { 0x6FA, 0x6FC, 1 },
    { 0x6FF, 0x710, 17 },
    { 0x711, 0x73F, 1 },
    { 0x74D, 0x7B1, 1 },
    { 0x7CA, 0x7EA, 1 },
    { 0x7F4, 0x7F5, 1 },
    { 0x7FA, 0x800, 6 },
    { 0x801, 0x817, 1 },
    { 0x81A, 0x82C, 1 },
    { 0x840, 0x858, 1 },
    { 0x8A0, 0x8B4, 1 },
    { 0x8E3, 0x8E9, 1 },
    { 0x8F0, 0x93B, 1 },
    { 0x93D, 0x94C, 1 },
    { 0x94E, 0x950, 1 },
    { 0x955, 0x963, 1 },
    { 0x971, 0x983, 1 },
    { 0x985, 0x98C, 1 },
    { 0x98F, 0x990, 1 },
    { 0x993, 0x9A8, 1 },
    { 0x9AA, 0x9B0, 1 },
    { 0x9B2, 0x9B6, 4 },
    { 0x9B7, 0x9B9, 1 },
    { 0x9BD, 0x9C4, 1 },
    { 0x9C7, 0x9C8, 1 },
    { 0x9CB, 0x9CC, 1 },
    { 0x9CE, 0x9D7, 9 },
    { 0x9DC, 0x9DD, 1 },
    { 0x9DF, 0x9E3, 1 },
    { 0x9F0, 0x9F1, 1 },
    { 0xA01, 0xA03, 1 },
    { 0xA05, 0xA0A, 1 },
    { 0xA0F, 0xA10, 1 },
    { 0xA13, 0xA28, 1 },
    { 0xA2A, 0xA30, 1 },
    { 0xA32, 0xA33, 1 },
    { 0xA35, 0xA36, 1 },
    { 0xA38, 0xA39, 1 },
    { 0xA3E, 0xA42, 1 },
    { 0xA47, 0xA48, 1 },
    { 0xA4B, 0xA4C, 1 },
    { 0xA51, 0xA59, 8 },
    { 0xA5A, 0xA5C, 1 },
    { 0xA5E, 0xA70, 18 },
    { 0xA71, 0xA75, 1 },
    { 0xA81, 0xA83, 1 },
    { 0xA85, 0xA8D, 1 },
    { 0xA8F, 0xA91, 1 },
    { 0xA93, 0xAA8, 1 },
    { 0xAAA, 0xAB0, 1 },
    { 0xAB2, 0xAB3, 1 },
    { 0xAB5, 0xAB9, 1 },
    { 0xABD, 0xAC5, 1 },
    { 0xAC7, 0xAC9, 1 },
    { 0xACB, 0xACC, 1 },
    { 0xAD0, 0xAE0, 16 },
    { 0xAE1, 0xAE3, 1 },
    { 0xAF9, 0xB01, 8 },
    { 0xB02, 0xB03, 1 },
    { 0xB05, 0xB0C, 1 },
    { 0xB0F, 0xB10, 1 },
    { 0xB13, 0xB28, 1 },
    { 0xB2A, 0xB30, 1 },
    { 0xB32, 0xB33, 1 },
    { 0xB35, 0xB39, 1 },
    { 0xB3D, 0xB44, 1 },
    { 0xB47, 0xB48, 1 },
    { 0xB4B, 0xB4C, 1 },
    { 0xB56, 0xB57, 1 },
    { 0xB5C, 0xB5D, 1 },
    { 0xB5F, 0xB63, 1 },
    { 0xB71, 0xB82, 17 },
    { 0xB83, 0xB85, 2 },
    { 0xB86, 0xB8A, 1 },
    { 0xB8E, 0xB90, 1 },
    { 0xB92, 0xB95, 1 },
    { 0xB99, 0xB9A, 1 },
    { 0xB9C, 0xB9E, 2 },
    { 0xB9F, 0xBA3, 4 },
    { 0xBA4, 0xBA8, 4 },
    { 0xBA9, 0xBAA, 1 },
    { 0xBAE, 0xBB9, 1 },
    { 0xBBE, 0xBC2, 1 },
    { 0xBC6, 0xBC8, 1 },
    { 0xBCA, 0xBCC, 1 },
    { 0xBD0, 0xBD7, 7 },
    { 0xC00, 0xC03, 1 },
    { 0xC05, 0xC0C, 1 },
    { 0xC0E, 0xC10, 1 },
    { 0xC12, 0xC28, 1 },
    { 0xC2A, 0xC39, 1 },
    { 0xC3D, 0xC44, 1 },
    { 0xC46, 0xC48, 1 },
    { 0xC4A, 0xC4C, 1 },
    { 0xC55, 0xC56, 1 },
    { 0xC58, 0xC5A, 1 },
    { 0xC60, 0xC63, 1 },
    { 0xC81, 0xC83, 1 },
    { 0xC85, 0xC8C, 1 },
    { 0xC8E, 0xC90, 1 },
    { 0xC92, 0xCA8, 1 },
    { 0xCAA, 0xCB3, 1 },
    { 0xCB5, 0xCB9, 1 },
    { 0xCBD, 0xCC4, 1 },
    { 0xCC6, 0xCC8, 1 },
    { 0xCCA, 0xCCC, 1 },
    { 0xCD5, 0xCD6, 1 },
    { 0xCDE, 0xCE0, 2 },
    { 0xCE1, 0xCE3, 1 },
    { 0xCF1, 0xCF2, 1 },
    { 0xD01, 0xD03, 1 },
    { 0xD05, 0xD0C, 1 },
    { 0xD0E, 0xD10, 1 },
    { 0xD12, 0xD3A, 1 },
    { 0xD3D, 0xD44, 1 },
    { 0xD46, 0xD48, 1 },
    { 0xD4A, 0xD4C, 1 },
    { 0xD4E, 0xD57, 9 },
    { 0xD5F, 0xD63, 1 },
    { 0xD7A, 0xD7F, 1 },
    { 0xD82, 0xD83, 1 },
    { 0xD85, 0xD96, 1 },
    { 0xD9A, 0xDB1, 1 },
    { 0xDB3, 0xDBB, 1 },
    { 0xDBD, 0xDC0, 3 },
    { 0xDC1, 0xDC6, 1 },
    { 0xDCF, 0xDD4, 1 },
    { 0xDD6, 0xDD8, 2 },
    { 0xDD9, 0xDDF, 1 },
    { 0xDF2, 0xDF3, 1 },
    { 0xE01, 0xE3A, 1 },
    { 0xE40, 0xE46, 1 },
    { 0xE4D, 0xE81, 52 },
    { 0xE82, 0xE84, 2 },
    { 0xE87, 0xE88, 1 },
    { 0xE8A, 0xE8D, 3 },
    { 0xE94, 0xE97, 1 },
    { 0xE99, 0xE9F, 1 },
    { 0xEA1, 0xEA3, 1 },
    { 0xEA5, 0xEA7, 2 },
    { 0xEAA, 0xEAB, 1 },
    { 0xEAD, 0xEB9, 1 },
    { 0xEBB, 0xEBD, 1 },
    { 0xEC0, 0xEC4, 1 },
    { 0xEC6, 0xECD, 7 },
    { 0xEDC, 0xEDF, 1 },
    { 0xF00, 0xF40, 64 },
    { 0xF41, 0xF47, 1 },
    { 0xF49, 0xF6C, 1 },
    { 0xF71, 0xF81, 1 },
    { 0xF88, 0xF97, 1 },
    { 0xF99, 0xFBC, 1 },
    { 0x1000, 0x1036, 1 },
    { 0x1038, 0x103B, 3 },
    { 0x103C, 0x103F, 1 },
    { 0x1050, 0x1062, 1 },
    { 0x1065, 0x1068, 1 },
    { 0x106E, 0x1086, 1 },
    { 0x108E, 0x109C, 14 },
    { 0x109D, 0x10A0, 3 },
    { 0x10A1, 0x10C5, 1 },
    { 0x10C7, 0x10CD, 6 },
    { 0x10D0, 0x10FA, 1 },
    { 0x10FC, 0x1248, 1 },
    { 0x124A, 0x124D, 1 },
    { 0x1250, 0x1256, 1 },
    { 0x1258, 0x125A, 2 },
    { 0x125B, 0x125D, 1 },
    { 0x1260, 0x1288, 1 },
    { 0x128A, 0x128D, 1 },
    { 0x1290, 0x12B0, 1 },
    { 0x12B2, 0x12B5, 1 },
    { 0x12B8, 0x12BE, 1 },
    { 0x12C0, 0x12C2, 2 },
    { 0x12C3, 0x12C5, 1 },
    { 0x12C8, 0x12D6, 1 },
    { 0x12D8, 0x1310, 1 },
    { 0x1312, 0x1315, 1 },
    { 0x1318, 0x135A, 1 },
    { 0x135F, 0x1380, 33 },
    { 0x1381, 0x138F, 1 },
    { 0x13A0, 0x13F5, 1 },
    { 0x13F8, 0x13FD, 1 },
    { 0x1401, 0x166C, 1 },
    { 0x166F, 0x167F, 1 },
    { 0x1681, 0x169A, 1 },
    { 0x16A0, 0x16EA, 1 },
    { 0x16EE, 0x16F8, 1 },
    { 0x1700, 0x170C, 1 },
    { 0x170E, 0x1713, 1 },
    { 0x1720, 0x1733, 1 },
    { 0x1740, 0x1753, 1 },
    { 0x1760, 0x176C, 1 },
    { 0x176E, 0x1770, 1 },
    { 0x1772, 0x1773, 1 },
    { 0x1780, 0x17B3, 1 },
    { 0x17B6, 0x17C8, 1 },
    { 0x17D7, 0x17DC, 5 },
    { 0x1820, 0x1877, 1 },
    { 0x1880, 0x18AA, 1 },
    { 0x18B0, 0x18F5, 1 },
    { 0x1900, 0x191E, 1 },
    { 0x1920, 0x192B, 1 },
    { 0x1930, 0x1938, 1 },
    { 0x1950, 0x196D, 1 },
    { 0x1970, 0x1974, 1 },
    { 0x1980, 0x19AB, 1 },
    { 0x19B0, 0x19C9, 1 },
    { 0x1A00, 0x1A1B, 1 },
    { 0x1A20, 0x1A5E, 1 },
    { 0x1A61, 0x1A74, 1 },
    { 0x1AA7, 0x1B00, 89 },
    { 0x1B01, 0x1B33, 1 },
    { 0x1B35, 0x1B43, 1 },
    { 0x1B45, 0x1B4B, 1 },
    { 0x1B80, 0x1BA9, 1 },
    { 0x1BAC, 0x1BAF, 1 },
    { 0x1BBA, 0x1BE5, 1 },
    { 0x1BE7, 0x1BF1, 1 },
    { 0x1C00, 0x1C35, 1 },
    { 0x1C4D, 0x1C4F, 1 },
    { 0x1C5A, 0x1C7D, 1 },
    { 0x1CE9, 0x1CEC, 1 },
    { 0x1CEE, 0x1CF3, 1 },
    { 0x1CF5, 0x1CF6, 1 },
    { 0x1D00, 0x1DBF, 1 },
    { 0x1DE7, 0x1DF4, 1 },
    { 0x1E00, 0x1F15, 1 },
    { 0x1F18, 0x1F1D, 1 },
    { 0x1F20, 0x1F45, 1 },
    { 0x1F48, 0x1F4D, 1 },
    { 0x1F50, 0x1F57, 1 },
    { 0x1F59, 0x1F5F, 2 },
    { 0x1F60, 0x1F7D, 1 },
    { 0x1F80, 0x1FB4, 1 },
    { 0x1FB6, 0x1FBC, 1 },
    { 0x1FBE, 0x1FC2, 4 },
    { 0x1FC3, 0x1FC4, 1 },
    { 0x1FC6, 0x1FCC, 1 },
    { 0x1FD0, 0x1FD3, 1 },
    { 0x1FD6, 0x1FDB, 1 },
    { 0x1FE0, 0x1FEC, 1 },
    { 0x1FF2, 0x1FF4, 1 },
    { 0x1FF6, 0x1FFC, 1 },
    { 0x2071, 0x207F, 14 },
    { 0x2090, 0x209C, 1 },
    { 0x2102, 0x2107, 5 },
    { 0x210A, 0x2113, 1 },
    { 0x2115, 0x2119, 4 },
    { 0x211A, 0x211D, 1 },
    { 0x2124, 0x212A, 2 },
    { 0x212B, 0x212D, 1 },
    { 0x212F, 0x2139, 1 },
    { 0x213C, 0x213F, 1 },
    { 0x2145, 0x2149, 1 },
    { 0x214E, 0x2160, 18 },
    { 0x2161, 0x2188, 1 },
    { 0x24B6, 0x24E9, 1 },
    { 0x2C00, 0x2C2E, 1 },
    { 0x2C30, 0x2C5E, 1 },
    { 0x2C60, 0x2CE4, 1 },
    { 0x2CEB, 0x2CEE, 1 },
    { 0x2CF2, 0x2CF3, 1 },
    { 0x2D00, 0x2D25, 1 },
    { 0x2D27, 0x2D2D, 6 },
    { 0x2D30, 0x2D67, 1 },
    { 0x2D6F, 0x2D80, 17 },
    { 0x2D81, 0x2D96, 1 },
    { 0x2DA0, 0x2DA6, 1 },
    { 0x2DA8, 0x2DAE, 1 },
    { 0x2DB0, 0x2DB6, 1 },
    { 0x2DB8, 0x2DBE, 1 },
    { 0x2DC0, 0x2DC6, 1 },
    { 0x2DC8, 0x2DCE, 1 },
    { 0x2DD0, 0x2DD6, 1 },
    { 0x2DD8, 0x2DDE, 1 },
    { 0x2DE0, 0x2DFF, 1 },
    { 0x2E2F, 0x3005, 470 },
    { 0x3006, 0x3007, 1 },
    { 0x3021, 0x3029, 1 },
    { 0x3031, 0x3035, 1 },
    { 0x3038, 0x303C, 1 },
    { 0x3041, 0x3096, 1 },
    { 0x309D, 0x309F, 1 },
    { 0x30A1, 0x30FA, 1 },
    { 0x30FC, 0x30FF, 1 },
    { 0x3105, 0x312D, 1 },
    { 0x3131, 0x318E, 1 },
    { 0x31A0, 0x31BA, 1 },
    { 0x31F0, 0x31FF, 1 },
    { 0x3400, 0x4DB5, 1 },
    { 0x4E00, 0x9FD5, 1 },
    { 0xA000, 0xA48C, 1 },
    { 0xA4D0, 0xA4FD, 1 },
    { 0xA500, 0xA60C, 1 },
    { 0xA610, 0xA61F, 1 },
    { 0xA62A, 0xA62B, 1 },
    { 0xA640, 0xA66E, 1 },
    { 0xA674, 0xA67B, 1 },
    { 0xA67F, 0xA6EF, 1 },
    { 0xA717, 0xA71F, 1 },
    { 0xA722, 0xA788, 1 },
    { 0xA78B, 0xA7AD, 1 },
    { 0xA7B0, 0xA7B7, 1 },
    { 0xA7F7, 0xA801, 1 },
    { 0xA803, 0xA805, 1 },
    { 0xA807, 0xA80A, 1 },
    { 0xA80C, 0xA827, 1 },
    { 0xA840, 0xA873, 1 },
    { 0xA880, 0xA8C3, 1 },
    { 0xA8F2, 0xA8F7, 1 },
    { 0xA8FB, 0xA8FD, 2 },
    { 0xA90A, 0xA92A, 1 },
    { 0xA930, 0xA952, 1 },
    { 0xA960, 0xA97C, 1 },
    { 0xA980, 0xA9B2, 1 },
    { 0xA9B4, 0xA9BF, 1 },
    { 0xA9CF, 0xA9E0, 17 },
    { 0xA9E1, 0xA9E4, 1 },
    { 0xA9E6, 0xA9EF, 1 },
    { 0xA9FA, 0xA9FE, 1 },
    { 0xAA00, 0xAA36, 1 },
    { 0xAA40, 0xAA4D, 1 },
    { 0xAA60, 0xAA76, 1 },
    { 0xAA7A, 0xAA7E, 4 },
    { 0xAA7F, 0xAABE, 1 },
    { 0xAAC0, 0xAAC2, 2 },
    { 0xAADB, 0xAADD, 1 },
    { 0xAAE0, 0xAAEF, 1 },
    { 0xAAF2, 0xAAF5, 1 },
    { 0xAB01, 0xAB06, 1 },
    { 0xAB09, 0xAB0E, 1 },
    { 0xAB11, 0xAB16, 1 },
    { 0xAB20, 0xAB26, 1 },
    { 0xAB28, 0xAB2E, 1 },
    { 0xAB30, 0xAB5A, 1 },
    { 0xAB5C, 0xAB65, 1 },
    { 0xAB70, 0xABEA, 1 },
    { 0xAC00, 0xD7A3, 1 },
    { 0xD7B0, 0xD7C6, 1 },
    { 0xD7CB, 0xD7FB, 1 },
    { 0xF900, 0xFA6D, 1 },
    { 0xFA70, 0xFAD9, 1 },
    { 0xFB00, 0xFB06, 1 },
    { 0xFB13, 0xFB17, 1 },
    { 0xFB1D, 0xFB28, 1 },
    { 0xFB2A, 0xFB36, 1 },
    { 0xFB38, 0xFB3C, 1 },
    { 0xFB3E, 0xFB40, 2 },
    { 0xFB41, 0xFB43, 2 },
    { 0xFB44, 0xFB46, 2 },
    { 0xFB47, 0xFBB1, 1 },
    { 0xFBD3, 0xFD3D, 1 },
    { 0xFD50, 0xFD8F, 1 },
    { 0xFD92, 0xFDC7, 1 },
    { 0xFDF0, 0xFDFB, 1 },
    { 0xFE70, 0xFE74, 1 },
    { 0xFE76, 0xFEFC, 1 },
    { 0xFF21, 0xFF3A, 1 },
    { 0xFF41, 0xFF5A, 1 },
    { 0xFF66, 0xFFBE, 1 },
    { 0xFFC2, 0xFFC7, 1 },
    { 0xFFCA, 0xFFCF, 1 },
    { 0xFFD2, 0xFFD7, 1 },
    { 0xFFDA, 0xFFDC, 1 },
    { 0x10000, 0x1000B, 1 },
    { 0x1000D, 0x10026, 1 },
    { 0x10028, 0x1003A, 1 },
    { 0x1003C, 0x1003D, 1 },
    { 0x1003F, 0x1004D, 1 },
    { 0x10050, 0x1005D, 1 },
    { 0x10080, 0x100FA, 1 },
    { 0x10140, 0x10174, 1 },
    { 0x10280, 0x1029C, 1 },
    { 0x102A0, 0x102D0, 1 },
    { 0x10300, 0x1031F, 1 },
    { 0x10330, 0x1034A, 1 },
    { 0x10350, 0x1037A, 1 },
    { 0x10380, 0x1039D, 1 },
    { 0x103A0, 0x103C3, 1 },
    { 0x103C8, 0x103CF, 1 },
    { 0x103D1, 0x103D5, 1 },
    { 0x10400, 0x1049D, 1 },
    { 0x10500, 0x10527, 1 },
    { 0x10530, 0x10563, 1 },
    { 0x10600, 0x10736, 1 },
    { 0x10740, 0x10755, 1 },
    { 0x10760, 0x10767, 1 },
    { 0x10800, 0x10805, 1 },
    { 0x10808, 0x1080A, 2 },
    { 0x1080B, 0x10835, 1 },
    { 0x10837, 0x10838, 1 },
    { 0x1083C, 0x1083F, 3 },
    { 0x10840, 0x10855, 1 },
    { 0x10860, 0x10876, 1 },
    { 0x10880, 0x1089E, 1 },
    { 0x108E0, 0x108F2, 1 },
    { 0x108F4, 0x108F5, 1 },
    { 0x10900, 0x10915, 1 },
    { 0x10920, 0x10939, 1 },
    { 0x10980, 0x109B7, 1 },
    { 0x109BE, 0x109BF, 1 },
    { 0x10A00, 0x10A03, 1 },
    { 0x10A05, 0x10A06, 1 },
    { 0x10A0C, 0x10A13, 1 },
    { 0x10A15, 0x10A17, 1 },
    { 0x10A19, 0x10A33, 1 },
    { 0x10A60, 0x10A7C, 1 },
    { 0x10A80, 0x10A9C, 1 },
    { 0x10AC0, 0x10AC7, 1 },
    { 0x10AC9, 0x10AE4, 1 },
    { 0x10B00, 0x10B35, 1 },
    { 0x10B40, 0x10B55, 1 },
    { 0x10B60, 0x10B72, 1 },
    { 0x10B80, 0x10B91, 1 },
    { 0x10C00, 0x10C48, 1 },
    { 0x10C80, 0x10CB2, 1 },
    { 0x10CC0, 0x10CF2, 1 },
    { 0x11000, 0x11045, 1 },
    { 0x11082, 0x110B8, 1 },
    { 0x110D0, 0x110E8, 1 },
    { 0x11100, 0x11132, 1 },
    { 0x11150, 0x11172, 1 },
    { 0x11176, 0x11180, 10 },
    { 0x11181, 0x111BF, 1 },
    { 0x111C1, 0x111C4, 1 },
    { 0x111DA, 0x111DC, 2 },
    { 0x11200, 0x11211, 1 },
    { 0x11213, 0x11234, 1 },
    { 0x11237, 0x11280, 73 },
    { 0x11281, 0x11286, 1 },
    { 0x11288, 0x1128A, 2 },
    { 0x1128B, 0x1128D, 1 },
    { 0x1128F, 0x1129D, 1 },
    { 0x1129F, 0x112A8, 1 },
    { 0x112B0, 0x112E8, 1 },
    { 0x11300, 0x11303, 1 },
    { 0x11305, 0x1130C, 1 },
    { 0x1130F, 0x11310, 1 },
    { 0x11313, 0x11328, 1 },
    { 0x1132A, 0x11330, 1 },
    { 0x11332, 0x11333, 1 },
    { 0x11335, 0x11339, 1 },
    { 0x1133D, 0x11344, 1 },
    { 0x11347, 0x11348, 1 },
    { 0x1134B, 0x1134C, 1 },
    { 0x11350, 0x11357, 7 },
    { 0x1135D, 0x11363, 1 },
    { 0x11480, 0x114C1, 1 },
    { 0x114C4, 0x114C5, 1 },
    { 0x114C7, 0x11580, 185 },
    { 0x11581, 0x115B5, 1 },
    { 0x115B8, 0x115BE, 1 },
    { 0x115D8, 0x115DD, 1 },
    { 0x11600, 0x1163E, 1 },
    { 0x11640, 0x11644, 4 },
    { 0x11680, 0x116B5, 1 },
    { 0x11700, 0x11719, 1 },
    { 0x1171D, 0x1172A, 1 },
    { 0x118A0, 0x118DF, 1 },
    { 0x118FF, 0x11AC0, 449 },
    { 0x11AC1, 0x11AF8, 1 },
    { 0x12000, 0x12399, 1 },
    { 0x12400, 0x1246E, 1 },
    { 0x12480, 0x12543, 1 },
    { 0x13000, 0x1342E, 1 },
    { 0x14400, 0x14646, 1 },
    { 0x16800, 0x16A38, 1 },
    { 0x16A40, 0x16A5E, 1 },
    { 0x16AD0, 0x16AED, 1 },
    { 0x16B00, 0x16B36, 1 },
    { 0x16B40, 0x16B43, 1 },
    { 0x16B63, 0x16B77, 1 },
    { 0x16B7D, 0x16B8F, 1 },
    { 0x16F00, 0x16F44, 1 },
    { 0x16F50, 0x16F7E, 1 },
    { 0x16F93, 0x16F9F, 1 },
    { 0x1B000, 0x1B001, 1 },
    { 0x1BC00, 0x1BC6A, 1 },
    { 0x1BC70, 0x1BC7C, 1 },
    { 0x1BC80, 0x1BC88, 1 },
    { 0x1BC90, 0x1BC99, 1 },
    { 0x1BC9E, 0x1D400, 5986 },
    { 0x1D401, 0x1D454, 1 },
    { 0x1D456, 0x1D49C, 1 },
    { 0x1D49E, 0x1D49F, 1 },
    { 0x1D4A2, 0x1D4A5, 3 },
    { 0x1D4A6, 0x1D4A9, 3 },
    { 0x1D4AA, 0x1D4AC, 1 },
    { 0x1D4AE, 0x1D4B9, 1 },
    { 0x1D4BB, 0x1D4BD, 2 },
    { 0x1D4BE, 0x1D4C3, 1 },
    { 0x1D4C5, 0x1D505, 1 },
    { 0x1D507, 0x1D50A, 1 },
    { 0x1D50D, 0x1D514, 1 },
    { 0x1D516, 0x1D51C, 1 },
    { 0x1D51E, 0x1D539, 1 },
    { 0x1D53B, 0x1D53E, 1 },
    { 0x1D540, 0x1D544, 1 },
    { 0x1D546, 0x1D54A, 4 },
    { 0x1D54B, 0x1D550, 1 },
    { 0x1D552, 0x1D6A5, 1 },
    { 0x1D6A8, 0x1D6C0, 1 },
    { 0x1D6C2, 0x1D6DA, 1 },
    { 0x1D6DC, 0x1D6FA, 1 },
    { 0x1D6FC, 0x1D714, 1 },
    { 0x1D716, 0x1D734, 1 },
    { 0x1D736, 0x1D74E, 1 },
    { 0x1D750, 0x1D76E, 1 },
    { 0x1D770, 0x1D788, 1 },
    { 0x1D78A, 0x1D7A8, 1 },
    { 0x1D7AA, 0x1D7C2, 1 },
    { 0x1D7C4, 0x1D7CB, 1 },
    { 0x1E800, 0x1E8C4, 1 },
    { 0x1EE00, 0x1EE03, 1 },
    { 0x1EE05, 0x1EE1F, 1 },
    { 0x1EE21, 0x1EE22, 1 },
    { 0x1EE24, 0x1EE27, 3 },
    { 0x1EE29, 0x1EE32, 1 },
    { 0x1EE34, 0x1EE37, 1 },
    { 0x1EE39, 0x1EE3B, 2 },
    { 0x1EE42, 0x1EE47, 5 },
    { 0x1EE49, 0x1EE4D, 2 },
    { 0x1EE4E, 0x1EE4F, 1 },
    { 0x1EE51, 0x1EE52, 1 },
    { 0x1EE54, 0x1EE57, 3 },
    { 0x1EE59, 0x1EE61, 2 },
    { 0x1EE62, 0x1EE64, 2 },
    { 0x1EE67, 0x1EE6A, 1 },
    { 0x1EE6C, 0x1EE72, 1 },
    { 0x1EE74, 0x1EE77, 1 },
    { 0x1EE79, 0x1EE7C, 1 },
    { 0x1EE7E, 0x1EE80, 2 },
    { 0x1EE81, 0x1EE89, 1 },
    { 0x1EE8B, 0x1EE9B, 1 },
    { 0x1EEA1, 0x1EEA3, 1 },
    { 0x1EEA5, 0x1EEA9, 1 },
    { 0x1EEAB, 0x1EEBB, 1 },
    { 0x1F130, 0x1F149, 1 },
    { 0x1F150, 0x1F169, 1 },
    { 0x1F170, 0x1F189, 1 },
    { 0x20000, 0x2A6D6, 1 },
    { 0x2A700, 0x2B734, 1 },
    { 0x2B740, 0x2B81D, 1 },
    { 0x2B820, 0x2CEA1, 1 },
    { 0x2F800, 0x2FA1D, 1 },
};
define_category(sys_A)

static struct range_table sys_I_charset[] = {
    { 0x41, 0x5A, 1 },
    { 0x5F, 0x61, 2 },
    { 0x62, 0x7A, 1 },
    { 0xAA, 0xB5, 11 },
    { 0xBA, 0xC0, 6 },
    { 0xC1, 0xD6, 1 },
    { 0xD8, 0xF6, 1 },
    { 0xF8, 0x2C1, 1 },
    { 0x2C6, 0x2D1, 1 },
    { 0x2E0, 0x2E4, 1 },
    { 0x2EC, 0x2EE, 2 },
    { 0x345, 0x370, 43 },
    { 0x371, 0x374, 1 },
    { 0x376, 0x377, 1 },
    { 0x37A, 0x37D, 1 },
    { 0x37F, 0x386, 7 },
    { 0x388, 0x38A, 1 },
    { 0x38C, 0x38E, 2 },
    { 0x38F, 0x3A1, 1 },
    { 0x3A3, 0x3F5, 1 },
    { 0x3F7, 0x481, 1 },
    { 0x48A, 0x52F, 1 },
    { 0x531, 0x556, 1 },
    { 0x559, 0x561, 8 },
    { 0x562, 0x587, 1 },
    { 0x5B0, 0x5BD, 1 },
    { 0x5BF, 0x5C1, 2 },
    { 0x5C2, 0x5C4, 2 },
    { 0x5C5, 0x5C7, 2 },
    { 0x5D0, 0x5EA, 1 },
    { 0x5F0, 0x5F2, 1 },
    { 0x610, 0x61A, 1 },
    { 0x620, 0x657, 1 },
    { 0x659, 0x65F, 1 },
    { 0x66E, 0x6D3, 1 },
    { 0x6D5, 0x6DC, 1 },
    { 0x6E1, 0x6E8, 1 },
    { 0x6ED, 0x6EF, 1 },
    { 0x6FA, 0x6FC, 1 },
    { 0x6FF, 0x710, 17 },
    { 0x711, 0x73F, 1 },
    { 0x74D, 0x7B1, 1 },
    { 0x7CA, 0x7EA, 1 },
    { 0x7F4, 0x7F5, 1 },
    { 0x7FA, 0x800, 6 },
    { 0x801, 0x817, 1 },
    { 0x81A, 0x82C, 1 },
    { 0x840, 0x858, 1 },
    { 0x8A0, 0x8B4, 1 },
    { 0x8E3, 0x8E9, 1 },
    { 0x8F0, 0x93B, 1 },
    { 0x93D, 0x94C, 1 },
    { 0x94E, 0x950, 1 },
    { 0x955, 0x963, 1 },
    { 0x971, 0x983, 1 },
    { 0x985, 0x98C, 1 },
    { 0x98F, 0x990, 1 },
    { 0x993, 0x9A8, 1 },
    { 0x9AA, 0x9B0, 1 },
    { 0x9B2, 0x9B6, 4 },
    { 0x9B7, 0x9B9, 1 },
    { 0x9BD, 0x9C4, 1 },
    { 0x9C7, 0x9C8, 1 },
    { 0x9CB, 0x9CC, 1 },
    { 0x9CE, 0x9D7, 9 },
    { 0x9DC, 0x9DD, 1 },
    { 0x9DF, 0x9E3, 1 },
    { 0x9F0, 0x9F1, 1 },
    { 0xA01, 0xA03, 1 },
    { 0xA05, 0xA0A, 1 },
    { 0xA0F, 0xA10, 1 },
    { 0xA13, 0xA28, 1 },
    { 0xA2A, 0xA30, 1 },
    { 0xA32, 0xA33, 1 },
    { 0xA35, 0xA36, 1 },
    { 0xA38, 0xA39, 1 },
    { 0xA3E, 0xA42, 1 },
    { 0xA47, 0xA48, 1 },
    { 0xA4B, 0xA4C, 1 },
    { 0xA51, 0xA59, 8 },
    { 0xA5A, 0xA5C, 1 },
    { 0xA5E, 0xA70, 18 },
    { 0xA71, 0xA75, 1 },
    { 0xA81, 0xA83, 1 },
    { 0xA85, 0xA8D, 1 },
    { 0xA8F, 0xA91, 1 },
    { 0xA93, 0xAA8, 1 },
    { 0xAAA, 0xAB0, 1 },
    { 0xAB2, 0xAB3, 1 },
    { 0xAB5, 0xAB9, 1 },
    { 0xABD, 0xAC5, 1 },
    { 0xAC7, 0xAC9, 1 },
    { 0xACB, 0xACC, 1 },
    { 0xAD0, 0xAE0, 16 },
    { 0xAE1, 0xAE3, 1 },
    { 0xAF9, 0xB01, 8 },
    { 0xB02, 0xB03, 1 },
    { 0xB05, 0xB0C, 1 },
    { 0xB0F, 0xB10, 1 },
    { 0xB13, 0xB28, 1 },
    { 0xB2A, 0xB30, 1 },
    { 0xB32, 0xB33, 1 },
    { 0xB35, 0xB39, 1 },
    { 0xB3D, 0xB44, 1 },
    { 0xB47, 0xB48, 1 },
    { 0xB4B, 0xB4C, 1 },
    { 0xB56, 0xB57, 1 },
    { 0xB5C, 0xB5D, 1 },
    { 0xB5F, 0xB63, 1 },
    { 0xB71, 0xB82, 17 },
    { 0xB83, 0xB85, 2 },
    { 0xB86, 0xB8A, 1 },
    { 0xB8E, 0xB90, 1 },
    { 0xB92, 0xB95, 1 },
    { 0xB99, 0xB9A, 1 },
    { 0xB9C, 0xB9E, 2 },
    { 0xB9F, 0xBA3, 4 },
    { 0xBA4, 0xBA8, 4 },
    { 0xBA9, 0xBAA, 1 },
    { 0xBAE, 0xBB9, 1 },
    { 0xBBE, 0xBC2, 1 },
    { 0xBC6, 0xBC8, 1 },
    { 0xBCA, 0xBCC, 1 },
    { 0xBD0, 0xBD7, 7 },
    { 0xC00, 0xC03, 1 },
    { 0xC05, 0xC0C, 1 },
    { 0xC0E, 0xC10, 1 },
    { 0xC12, 0xC28, 1 },
    { 0xC2A, 0xC39, 1 },
    { 0xC3D, 0xC44, 1 },
    { 0xC46, 0xC48, 1 },
    { 0xC4A, 0xC4C, 1 },
    { 0xC55, 0xC56, 1 },
    { 0xC58, 0xC5A, 1 },
    { 0xC60, 0xC63, 1 },
    { 0xC81, 0xC83, 1 },
    { 0xC85, 0xC8C, 1 },
    { 0xC8E, 0xC90, 1 },
    { 0xC92, 0xCA8, 1 },
    { 0xCAA, 0xCB3, 1 },
    { 0xCB5, 0xCB9, 1 },
    { 0xCBD, 0xCC4, 1 },
    { 0xCC6, 0xCC8, 1 },
    { 0xCCA, 0xCCC, 1 },
    { 0xCD5, 0xCD6, 1 },
    { 0xCDE, 0xCE0, 2 },
    { 0xCE1, 0xCE3, 1 },
    { 0xCF1, 0xCF2, 1 },
    { 0xD01, 0xD03, 1 },
    { 0xD05, 0xD0C, 1 },
    { 0xD0E, 0xD10, 1 },
    { 0xD12, 0xD3A, 1 },
    { 0xD3D, 0xD44, 1 },
    { 0xD46, 0xD48, 1 },
    { 0xD4A, 0xD4C, 1 },
    { 0xD4E, 0xD57, 9 },
    { 0xD5F, 0xD63, 1 },
    { 0xD7A, 0xD7F, 1 },
    { 0xD82, 0xD83, 1 },
    { 0xD85, 0xD96, 1 },
    { 0xD9A, 0xDB1, 1 },
    { 0xDB3, 0xDBB, 1 },
    { 0xDBD, 0xDC0, 3 },
    { 0xDC1, 0xDC6, 1 },
    { 0xDCF, 0xDD4, 1 },
    { 0xDD6, 0xDD8, 2 },
    { 0xDD9, 0xDDF, 1 },
    { 0xDF2, 0xDF3, 1 },
    { 0xE01, 0xE3A, 1 },
    { 0xE40, 0xE46, 1 },
    { 0xE4D, 0xE81, 52 },
    { 0xE82, 0xE84, 2 },
    { 0xE87, 0xE88, 1 },
    { 0xE8A, 0xE8D, 3 },
    { 0xE94, 0xE97, 1 },
    { 0xE99, 0xE9F, 1 },
    { 0xEA1, 0xEA3, 1 },
    { 0xEA5, 0xEA7, 2 },
    { 0xEAA, 0xEAB, 1 },
    { 0xEAD, 0xEB9, 1 },
    { 0xEBB, 0xEBD, 1 },
    { 0xEC0, 0xEC4, 1 },
    { 0xEC6, 0xECD, 7 },
    { 0xEDC, 0xEDF, 1 },
    { 0xF00, 0xF40, 64 },
    { 0xF41, 0xF47, 1 },
    { 0xF49, 0xF6C, 1 },
    { 0xF71, 0xF81, 1 },
    { 0xF88, 0xF97, 1 },
    { 0xF99, 0xFBC, 1 },
    { 0x1000, 0x1036, 1 },
    { 0x1038, 0x103B, 3 },
    { 0x103C, 0x103F, 1 },
    { 0x1050, 0x1062, 1 },
    { 0x1065, 0x1068, 1 },
    { 0x106E, 0x1086, 1 },
    { 0x108E, 0x109C, 14 },
    { 0x109D, 0x10A0, 3 },
    { 0x10A1, 0x10C5, 1 },
    { 0x10C7, 0x10CD, 6 },
    { 0x10D0, 0x10FA, 1 },
    { 0x10FC, 0x1248, 1 },
    { 0x124A, 0x124D, 1 },
    { 0x1250, 0x1256, 1 },
    { 0x1258, 0x125A, 2 },
    { 0x125B, 0x125D, 1 },
    { 0x1260, 0x1288, 1 },
    { 0x128A, 0x128D, 1 },
    { 0x1290, 0x12B0, 1 },
    { 0x12B2, 0x12B5, 1 },
    { 0x12B8, 0x12BE, 1 },
    { 0x12C0, 0x12C2, 2 },
    { 0x12C3, 0x12C5, 1 },
    { 0x12C8, 0x12D6, 1 },
    { 0x12D8, 0x1310, 1 },
    { 0x1312, 0x1315, 1 },
    { 0x1318, 0x135A, 1 },
    { 0x135F, 0x1380, 33 },
    { 0x1381, 0x138F, 1 },
    { 0x13A0, 0x13F5, 1 },
    { 0x13F8, 0x13FD, 1 },
    { 0x1401, 0x166C, 1 },
    { 0x166F, 0x167F, 1 },
    { 0x1681, 0x169A, 1 },
    { 0x16A0, 0x16EA, 1 },
    { 0x16EE, 0x16F8, 1 },
    { 0x1700, 0x170C, 1 },
    { 0x170E, 0x1713, 1 },
    { 0x1720, 0x1733, 1 },
    { 0x1740, 0x1753, 1 },
    { 0x1760, 0x176C, 1 },
    { 0x176E, 0x1770, 1 },
    { 0x1772, 0x1773, 1 },
    { 0x1780, 0x17B3, 1 },
    { 0x17B6, 0x17C8, 1 },
    { 0x17D7, 0x17DC, 5 },
    { 0x1820, 0x1877, 1 },
    { 0x1880, 0x18AA, 1 },
    { 0x18B0, 0x18F5, 1 },
    { 0x1900, 0x191E, 1 },
    { 0x1920, 0x192B, 1 },
    { 0x1930, 0x1938, 1 },
    { 0x1950, 0x196D, 1 },
    { 0x1970, 0x1974, 1 },
    { 0x1980, 0x19AB, 1 },
    { 0x19B0, 0x19C9, 1 },
    { 0x1A00, 0x1A1B, 1 },
    { 0x1A20, 0x1A5E, 1 },
    { 0x1A61, 0x1A74, 1 },
    { 0x1AA7, 0x1B00, 89 },
    { 0x1B01, 0x1B33, 1 },
    { 0x1B35, 0x1B43, 1 },
    { 0x1B45, 0x1B4B, 1 },
    { 0x1B80, 0x1BA9, 1 },
    { 0x1BAC, 0x1BAF, 1 },
    { 0x1BBA, 0x1BE5, 1 },
    { 0x1BE7, 0x1BF1, 1 },
    { 0x1C00, 0x1C35, 1 },
    { 0x1C4D, 0x1C4F, 1 },
    { 0x1C5A, 0x1C7D, 1 },
    { 0x1CE9, 0x1CEC, 1 },
    { 0x1CEE, 0x1CF3, 1 },
    { 0x1CF5, 0x1CF6, 1 },
    { 0x1D00, 0x1DBF, 1 },
    { 0x1DE7, 0x1DF4, 1 },
    { 0x1E00, 0x1F15, 1 },
    { 0x1F18, 0x1F1D, 1 },
    { 0x1F20, 0x1F45, 1 },
    { 0x1F48, 0x1F4D, 1 },
    { 0x1F50, 0x1F57, 1 },
    { 0x1F59, 0x1F5F, 2 },
    { 0x1F60, 0x1F7D, 1 },
    { 0x1F80, 0x1FB4, 1 },
    { 0x1FB6, 0x1FBC, 1 },
    { 0x1FBE, 0x1FC2, 4 },
    { 0x1FC3, 0x1FC4, 1 },
    { 0x1FC6, 0x1FCC, 1 },
    { 0x1FD0, 0x1FD3, 1 },
    { 0x1FD6, 0x1FDB, 1 },
    { 0x1FE0, 0x1FEC, 1 },
    { 0x1FF2, 0x1FF4, 1 },
    { 0x1FF6, 0x1FFC, 1 },
    { 0x2071, 0x207F, 14 },
    { 0x2090, 0x209C, 1 },
    { 0x2102, 0x2107, 5 },
    { 0x210A, 0x2113, 1 },
    { 0x2115, 0x2119, 4 },
    { 0x211A, 0x211D, 1 },
    { 0x2124, 0x212A, 2 },
    { 0x212B, 0x212D, 1 },
    { 0x212F, 0x2139, 1 },
    { 0x213C, 0x213F, 1 },
    { 0x2145, 0x2149, 1 },
    { 0x214E, 0x2160, 18 },
    { 0x2161, 0x2188, 1 },
    { 0x24B6, 0x24E9, 1 },
    { 0x2C00, 0x2C2E, 1 },
    { 0x2C30, 0x2C5E, 1 },
    { 0x2C60, 0x2CE4, 1 },
    { 0x2CEB, 0x2CEE, 1 },
    { 0x2CF2, 0x2CF3, 1 },
    { 0x2D00, 0x2D25, 1 },
    { 0x2D27, 0x2D2D, 6 },
    { 0x2D30, 0x2D67, 1 },
    { 0x2D6F, 0x2D80, 17 },
    { 0x2D81, 0x2D96, 1 },
    { 0x2DA0, 0x2DA6, 1 },
    { 0x2DA8, 0x2DAE, 1 },
    { 0x2DB0, 0x2DB6, 1 },
    { 0x2DB8, 0x2DBE, 1 },
    { 0x2DC0, 0x2DC6, 1 },
    { 0x2DC8, 0x2DCE, 1 },
    { 0x2DD0, 0x2DD6, 1 },
    { 0x2DD8, 0x2DDE, 1 },
    { 0x2DE0, 0x2DFF, 1 },
    { 0x2E2F, 0x3005, 470 },
    { 0x3006, 0x3007, 1 },
    { 0x3021, 0x3029, 1 },
    { 0x3031, 0x3035, 1 },
    { 0x3038, 0x303C, 1 },
    { 0x3041, 0x3096, 1 },
    { 0x309D, 0x309F, 1 },
    { 0x30A1, 0x30FA, 1 },
    { 0x30FC, 0x30FF, 1 },
    { 0x3105, 0x312D, 1 },
    { 0x3131, 0x318E, 1 },
    { 0x31A0, 0x31BA, 1 },
    { 0x31F0, 0x31FF, 1 },
    { 0x3400, 0x4DB5, 1 },
    { 0x4E00, 0x9FD5, 1 },
    { 0xA000, 0xA48C, 1 },
    { 0xA4D0, 0xA4FD, 1 },
    { 0xA500, 0xA60C, 1 },
    { 0xA610, 0xA61F, 1 },
    { 0xA62A, 0xA62B, 1 },
    { 0xA640, 0xA66E, 1 },
    { 0xA674, 0xA67B, 1 },
    { 0xA67F, 0xA6EF, 1 },
    { 0xA717, 0xA71F, 1 },
    { 0xA722, 0xA788, 1 },
    { 0xA78B, 0xA7AD, 1 },
    { 0xA7B0, 0xA7B7, 1 },
    { 0xA7F7, 0xA801, 1 },
    { 0xA803, 0xA805, 1 },
    { 0xA807, 0xA80A, 1 },
    { 0xA80C, 0xA827, 1 },
    { 0xA840, 0xA873, 1 },
    { 0xA880, 0xA8C3, 1 },
    { 0xA8F2, 0xA8F7, 1 },
    { 0xA8FB, 0xA8FD, 2 },
    { 0xA90A, 0xA92A, 1 },
    { 0xA930, 0xA952, 1 },
    { 0xA960, 0xA97C, 1 },
    { 0xA980, 0xA9B2, 1 },
    { 0xA9B4, 0xA9BF, 1 },
    { 0xA9CF, 0xA9E0, 17 },
    { 0xA9E1, 0xA9E4, 1 },
    { 0xA9E6, 0xA9EF, 1 },
    { 0xA9FA, 0xA9FE, 1 },
    { 0xAA00, 0xAA36, 1 },
    { 0xAA40, 0xAA4D, 1 },
    { 0xAA60, 0xAA76, 1 },
    { 0xAA7A, 0xAA7E, 4 },
    { 0xAA7F, 0xAABE, 1 },
    { 0xAAC0, 0xAAC2, 2 },
    { 0xAADB, 0xAADD, 1 },
    { 0xAAE0, 0xAAEF, 1 },
    { 0xAAF2, 0xAAF5, 1 },
    { 0xAB01, 0xAB06, 1 },
    { 0xAB09, 0xAB0E, 1 },
    { 0xAB11, 0xAB16, 1 },
    { 0xAB20, 0xAB26, 1 },
    { 0xAB28, 0xAB2E, 1 },
    { 0xAB30, 0xAB5A, 1 },
    { 0xAB5C, 0xAB65, 1 },
    { 0xAB70, 0xABEA, 1 },
    { 0xAC00, 0xD7A3, 1 },
    { 0xD7B0, 0xD7C6, 1 },
    { 0xD7CB, 0xD7FB, 1 },
    { 0xF900, 0xFA6D, 1 },
    { 0xFA70, 0xFAD9, 1 },
    { 0xFB00, 0xFB06, 1 },
    { 0xFB13, 0xFB17, 1 },
    { 0xFB1D, 0xFB28, 1 },
    { 0xFB2A, 0xFB36, 1 },
    { 0xFB38, 0xFB3C, 1 },
    { 0xFB3E, 0xFB40, 2 },
    { 0xFB41, 0xFB43, 2 },
    { 0xFB44, 0xFB46, 2 },
    { 0xFB47, 0xFBB1, 1 },
    { 0xFBD3, 0xFD3D, 1 },
    { 0xFD50, 0xFD8F, 1 },
    { 0xFD92, 0xFDC7, 1 },
    { 0xFDF0, 0xFDFB, 1 },
    { 0xFE70, 0xFE74, 1 },
    { 0xFE76, 0xFEFC, 1 },
    { 0xFF21, 0xFF3A, 1 },
    { 0xFF41, 0xFF5A, 1 },
    { 0xFF66, 0xFFBE, 1 },
    { 0xFFC2, 0xFFC7, 1 },
    { 0xFFCA, 0xFFCF, 1 },
    { 0xFFD2, 0xFFD7, 1 },
    { 0xFFDA, 0xFFDC, 1 },
    { 0x10000, 0x1000B, 1 },
    { 0x1000D, 0x10026, 1 },
    { 0x10028, 0x1003A, 1 },
    { 0x1003C, 0x1003D, 1 },
    { 0x1003F, 0x1004D, 1 },
    { 0x10050, 0x1005D, 1 },
    { 0x10080, 0x100FA, 1 },
    { 0x10140, 0x10174, 1 },
    { 0x10280, 0x1029C, 1 },
    { 0x102A0, 0x102D0, 1 },
    { 0x10300, 0x1031F, 1 },
    { 0x10330, 0x1034A, 1 },
    { 0x10350, 0x1037A, 1 },
    { 0x10380, 0x1039D, 1 },
    { 0x103A0, 0x103C3, 1 },
    { 0x103C8, 0x103CF, 1 },
    { 0x103D1, 0x103D5, 1 },
    { 0x10400, 0x1049D, 1 },
    { 0x10500, 0x10527, 1 },
    { 0x10530, 0x10563, 1 },
    { 0x10600, 0x10736, 1 },
    { 0x10740, 0x10755, 1 },
    { 0x10760, 0x10767, 1 },
    { 0x10800, 0x10805, 1 },
    { 0x10808, 0x1080A, 2 },
    { 0x1080B, 0x10835, 1 },
    { 0x10837, 0x10838, 1 },
    { 0x1083C, 0x1083F, 3 },
    { 0x10840, 0x10855, 1 },
    { 0x10860, 0x10876, 1 },
    { 0x10880, 0x1089E, 1 },
    { 0x108E0, 0x108F2, 1 },
    { 0x108F4, 0x108F5, 1 },
    { 0x10900, 0x10915, 1 },
    { 0x10920, 0x10939, 1 },
    { 0x10980, 0x109B7, 1 },
    { 0x109BE, 0x109BF, 1 },
    { 0x10A00, 0x10A03, 1 },
    { 0x10A05, 0x10A06, 1 },
    { 0x10A0C, 0x10A13, 1 },
    { 0x10A15, 0x10A17, 1 },
    { 0x10A19, 0x10A33, 1 },
    { 0x10A60, 0x10A7C, 1 },
    { 0x10A80, 0x10A9C, 1 },
    { 0x10AC0, 0x10AC7, 1 },
    { 0x10AC9, 0x10AE4, 1 },
    { 0x10B00, 0x10B35, 1 },
    { 0x10B40, 0x10B55, 1 },
    { 0x10B60, 0x10B72, 1 },
    { 0x10B80, 0x10B91, 1 },
    { 0x10C00, 0x10C48, 1 },
    { 0x10C80, 0x10CB2, 1 },
    { 0x10CC0, 0x10CF2, 1 },
    { 0x11000, 0x11045, 1 },
    { 0x11082, 0x110B8, 1 },
    { 0x110D0, 0x110E8, 1 },
    { 0x11100, 0x11132, 1 },
    { 0x11150, 0x11172, 1 },
    { 0x11176, 0x11180, 10 },
    { 0x11181, 0x111BF, 1 },
    { 0x111C1, 0x111C4, 1 },
    { 0x111DA, 0x111DC, 2 },
    { 0x11200, 0x11211, 1 },
    { 0x11213, 0x11234, 1 },
    { 0x11237, 0x11280, 73 },
    { 0x11281, 0x11286, 1 },
    { 0x11288, 0x1128A, 2 },
    { 0x1128B, 0x1128D, 1 },
    { 0x1128F, 0x1129D, 1 },
    { 0x1129F, 0x112A8, 1 },
    { 0x112B0, 0x112E8, 1 },
    { 0x11300, 0x11303, 1 },
    { 0x11305, 0x1130C, 1 },
    { 0x1130F, 0x11310, 1 },
    { 0x11313, 0x11328, 1 },
    { 0x1132A, 0x11330, 1 },
    { 0x11332, 0x11333, 1 },
    { 0x11335, 0x11339, 1 },
    { 0x1133D, 0x11344, 1 },
    { 0x11347, 0x11348, 1 },
    { 0x1134B, 0x1134C, 1 },
    { 0x11350, 0x11357, 7 },
    { 0x1135D, 0x11363, 1 },
    { 0x11480, 0x114C1, 1 },
    { 0x114C4, 0x114C5, 1 },
    { 0x114C7, 0x11580, 185 },
    { 0x11581, 0x115B5, 1 },
    { 0x115B8, 0x115BE, 1 },
    { 0x115D8, 0x115DD, 1 },
    { 0x11600, 0x1163E, 1 },
    { 0x11640, 0x11644, 4 },
    { 0x11680, 0x116B5, 1 },
    { 0x11700, 0x11719, 1 },
    { 0x1171D, 0x1172A, 1 },
    { 0x118A0, 0x118DF, 1 },
    { 0x118FF, 0x11AC0, 449 },
    { 0x11AC1, 0x11AF8, 1 },
    { 0x12000, 0x12399, 1 },
    { 0x12400, 0x1246E, 1 },
    { 0x12480, 0x12543, 1 },
    { 0x13000, 0x1342E, 1 },
    { 0x14400, 0x14646, 1 },
    { 0x16800, 0x16A38, 1 },
    { 0x16A40, 0x16A5E, 1 },
    { 0x16AD0, 0x16AED, 1 },
    { 0x16B00, 0x16B36, 1 },
    { 0x16B40, 0x16B43, 1 },
    { 0x16B63, 0x16B77, 1 },
    { 0x16B7D, 0x16B8F, 1 },
    { 0x16F00, 0x16F44, 1 },
    { 0x16F50, 0x16F7E, 1 },
    { 0x16F93, 0x16F9F, 1 },
    { 0x1B000, 0x1B001, 1 },
    { 0x1BC00, 0x1BC6A, 1 },
    { 0x1BC70, 0x1BC7C, 1 },
    { 0x1BC80, 0x1BC88, 1 },
    { 0x1BC90, 0x1BC99, 1 },
    { 0x1BC9E, 0x1D400, 5986 },
    { 0x1D401, 0x1D454, 1 },
    { 0x1D456, 0x1D49C, 1 },
    { 0x1D49E, 0x1D49F, 1 },
    { 0x1D4A2, 0x1D4A5, 3 },
    { 0x1D4A6, 0x1D4A9, 3 },
    { 0x1D4AA, 0x1D4AC, 1 },
    { 0x1D4AE, 0x1D4B9, 1 },
    { 0x1D4BB, 0x1D4BD, 2 },
    { 0x1D4BE, 0x1D4C3, 1 },
    { 0x1D4C5, 0x1D505, 1 },
    { 0x1D507, 0x1D50A, 1 },
    { 0x1D50D, 0x1D514, 1 },
    { 0x1D516, 0x1D51C, 1 },
    { 0x1D51E, 0x1D539, 1 },
    { 0x1D53B, 0x1D53E, 1 },
    { 0x1D540, 0x1D544, 1 },
    { 0x1D546, 0x1D54A, 4 },
    { 0x1D54B, 0x1D550, 1 },
    { 0x1D552, 0x1D6A5, 1 },
    { 0x1D6A8, 0x1D6C0, 1 },
    { 0x1D6C2, 0x1D6DA, 1 },
    { 0x1D6DC, 0x1D6FA, 1 },
    { 0x1D6FC, 0x1D714, 1 },
    { 0x1D716, 0x1D734, 1 },
    { 0x1D736, 0x1D74E, 1 },
    { 0x1D750, 0x1D76E, 1 },
    { 0x1D770, 0x1D788, 1 },
    { 0x1D78A, 0x1D7A8, 1 },
    { 0x1D7AA, 0x1D7C2, 1 },
    { 0x1D7C4, 0x1D7CB, 1 },
    { 0x1E800, 0x1E8C4, 1 },
    { 0x1EE00, 0x1EE03, 1 },
    { 0x1EE05, 0x1EE1F, 1 },
    { 0x1EE21, 0x1EE22, 1 },
    { 0x1EE24, 0x1EE27, 3 },
    { 0x1EE29, 0x1EE32, 1 },
    { 0x1EE34, 0x1EE37, 1 },
    { 0x1EE39, 0x1EE3B, 2 },
    { 0x1EE42, 0x1EE47, 5 },
    { 0x1EE49, 0x1EE4D, 2 },
    { 0x1EE4E, 0x1EE4F, 1 },
    { 0x1EE51, 0x1EE52, 1 },
    { 0x1EE54, 0x1EE57, 3 },
    { 0x1EE59, 0x1EE61, 2 },
    { 0x1EE62, 0x1EE64, 2 },
    { 0x1EE67, 0x1EE6A, 1 },
    { 0x1EE6C, 0x1EE72, 1 },
    { 0x1EE74, 0x1EE77, 1 },
    { 0x1EE79, 0x1EE7C, 1 },
    { 0x1EE7E, 0x1EE80, 2 },
    { 0x1EE81, 0x1EE89, 1 },
    { 0x1EE8B, 0x1EE9B, 1 },
    { 0x1EEA1, 0x1EEA3, 1 },
    { 0x1EEA5, 0x1EEA9, 1 },
    { 0x1EEAB, 0x1EEBB, 1 },
    { 0x1F130, 0x1F149, 1 },
    { 0x1F150, 0x1F169, 1 },
    { 0x1F170, 0x1F189, 1 },
    { 0x20000, 0x2A6D6, 1 },
    { 0x2A700, 0x2B734, 1 },
    { 0x2B740, 0x2B81D, 1 },
    { 0x2B820, 0x2CEA1, 1 },
    { 0x2F800, 0x2FA1D, 1 },
};
define_category(sys_I)

static struct range_table sys_p_charset[] = {
    { 0x21, 0x2F, 1 },
    { 0x3A, 0x40, 1 },
    { 0x5B, 0x60, 1 },
    { 0x7B, 0x7E, 1 },
    { 0xA1, 0xA5, 1 },
    { 0xA7, 0xA8, 1 },
    { 0xAB, 0xAC, 1 },
    { 0xAF, 0xB1, 2 },
    { 0xB4, 0xB6, 2 },
    { 0xB7, 0xB8, 1 },
    { 0xBB, 0xBF, 4 },
    { 0xD7, 0xF7, 32 },
    { 0x2C2, 0x2C5, 1 },
    { 0x2D2, 0x2DF, 1 },
    { 0x2E5, 0x2EB, 1 },
    { 0x2ED, 0x2EF, 2 },
    { 0x2F0, 0x2FF, 1 },
    { 0x375, 0x37E, 9 },
    { 0x384, 0x385, 1 },
    { 0x387, 0x3F6, 111 },
    { 0x55A, 0x55F, 1 },
    { 0x589, 0x58A, 1 },
    { 0x58F, 0x5BE, 47 },
    { 0x5C0, 0x5C6, 3 },
    { 0x5F3, 0x5F4, 1 },
    { 0x606, 0x60D, 1 },
    { 0x61B, 0x61E, 3 },
    { 0x61F, 0x66A, 75 },
    { 0x66B, 0x66D, 1 },
    { 0x6D4, 0x700, 44 },
    { 0x701, 0x70D, 1 },
    { 0x7F7, 0x7F9, 1 },
    { 0x830, 0x83E, 1 },
    { 0x85E, 0x964, 262 },
    { 0x965, 0x970, 11 },
    { 0x9F2, 0x9F3, 1 },
    { 0x9FB, 0xAF0, 245 },
    { 0xAF1, 0xBF9, 264 },
    { 0xDF4, 0xE3F, 75 },
    { 0xE4F, 0xE5A, 11 },
    { 0xE5B, 0xF04, 169 },
    { 0xF05, 0xF12, 1 },
    { 0xF14, 0xF3A, 38 },
    { 0xF3B, 0xF3D, 1 },
    { 0xF85, 0xFD0, 75 },
    { 0xFD1, 0xFD4, 1 },
    { 0xFD9, 0xFDA, 1 },
    { 0x104A, 0x104F, 1 },
    { 0x10FB, 0x1360, 613 },
    { 0x1361, 0x1368, 1 },
    { 0x1400, 0x166D, 621 },
    { 0x166E, 0x169B, 45 },
    { 0x169C, 0x16EB, 79 },
    { 0x16EC, 0x16ED, 1 },
    { 0x1735, 0x1736, 1 },
    { 0x17D4, 0x17D6, 1 },
    { 0x17D8, 0x17DB, 1 },
    { 0x1800, 0x180A, 1 },
    { 0x1944, 0x1945, 1 },
    { 0x1A1E, 0x1A1F, 1 },
    { 0x1AA0, 0x1AA6, 1 },
    { 0x1AA8, 0x1AAD, 1 },
    { 0x1B5A, 0x1B60, 1 },
    { 0x1BFC, 0x1BFF, 1 },
    { 0x1C3B, 0x1C3F, 1 },
    { 0x1C7E, 0x1C7F, 1 },
    { 0x1CC0, 0x1CC7, 1 },
    { 0x1CD3, 0x1FBD, 746 },
    { 0x1FBF, 0x1FC1, 1 },
    { 0x1FCD, 0x1FCF, 1 },
    { 0x1FDD, 0x1FDF, 1 },
    { 0x1FED, 0x1FEF, 1 },
    { 0x1FFD, 0x1FFE, 1 },
    { 0x2010, 0x2027, 1 },
    { 0x2030, 0x205E, 1 },
    { 0x207A, 0x207E, 1 },
    { 0x208A, 0x208E, 1 },
    { 0x20A0, 0x20BE, 1 },
    { 0x2118, 0x2140, 40 },
    { 0x2141, 0x2144, 1 },
    { 0x214B, 0x2190, 69 },
    { 0x2191, 0x2194, 1 },
    { 0x219A, 0x219B, 1 },
    { 0x21A0, 0x21A6, 3 },
    { 0x21AE, 0x21CE, 32 },
    { 0x21CF, 0x21D2, 3 },
    { 0x21D4, 0x21F4, 32 },
    { 0x21F5, 0x22FF, 1 },
    { 0x2308, 0x230B, 1 },
    { 0x2320, 0x2321, 1 },
    { 0x2329, 0x232A, 1 },
    { 0x237C, 0x239B, 31 },
    { 0x239C, 0x23B3, 1 },
    { 0x23DC, 0x23E1, 1 },
    { 0x25B7, 0x25C1, 10 },
    { 0x25F8, 0x25FF, 1 },
    { 0x266F, 0x2768, 249 },
    { 0x2769, 0x2775, 1 },
    { 0x27C0, 0x27FF, 1 },
    { 0x2900, 0x2AFF, 1 },
    { 0x2B30, 0x2B44, 1 },
    { 0x2B47, 0x2B4C, 1 },
    { 0x2CF9, 0x2CFC, 1 },
    { 0x2CFE, 0x2CFF, 1 },
    { 0x2D70, 0x2E00, 144 },
    { 0x2E01, 0x2E2E, 1 },
    { 0x2E30, 0x2E42, 1 },
    { 0x3001, 0x3003, 1 },
    { 0x3008, 0x3011, 1 },
    { 0x3014, 0x301F, 1 },
    { 0x3030, 0x303D, 13 },
    { 0x309B, 0x309C, 1 },
    { 0x30A0, 0x30FB, 91 },
    { 0xA4FE, 0xA4FF, 1 },
    { 0xA60D, 0xA60F, 1 },
    { 0xA673, 0xA67E, 11 },
    { 0xA6F2, 0xA6F7, 1 },
    { 0xA700, 0xA716, 1 },
    { 0xA720, 0xA721, 1 },
    { 0xA789, 0xA78A, 1 },
    { 0xA838, 0xA874, 60 },
    { 0xA875, 0xA877, 1 },
    { 0xA8CE, 0xA8CF, 1 },
    { 0xA8F8, 0xA8FA, 1 },
    { 0xA8FC, 0xA92E, 50 },
    { 0xA92F, 0xA95F, 48 },
    { 0xA9C1, 0xA9CD, 1 },
    { 0xA9DE, 0xA9DF, 1 },
    { 0xAA5C, 0xAA5F, 1 },
    { 0xAADE, 0xAADF, 1 },
    { 0xAAF0, 0xAAF1, 1 },
    { 0xAB5B, 0xABEB, 144 },
    { 0xFB29, 0xFBB2, 137 },
    { 0xFBB3, 0xFBC1, 1 },
    { 0xFD3E, 0xFD3F, 1 },
    { 0xFDFC, 0xFE10, 20 },
    { 0xFE11, 0xFE19, 1 },
    { 0xFE30, 0xFE52, 1 },
    { 0xFE54, 0xFE66, 1 },
    { 0xFE68, 0xFE6B, 1 },
    { 0xFF01, 0xFF0F, 1 },
    { 0xFF1A, 0xFF20, 1 },
    { 0xFF3B, 0xFF40, 1 },
    { 0xFF5B, 0xFF65, 1 },
    { 0xFFE0, 0xFFE3, 1 },
    { 0xFFE5, 0xFFE6, 1 },
    { 0xFFE9, 0xFFEC, 1 },
    { 0x10100, 0x10102, 1 },
    { 0x1039F, 0x103D0, 49 },
    { 0x1056F, 0x10857, 744 },
    { 0x1091F, 0x1093F, 32 },
    { 0x10A50, 0x10A58, 1 },
    { 0x10A7F, 0x10AF0, 113 },
    { 0x10AF1, 0x10AF6, 1 },
    { 0x10B39, 0x10B3F, 1 },
    { 0x10B99, 0x10B9C, 1 },
    { 0x11047, 0x1104D, 1 },
    { 0x110BB, 0x110BC, 1 },
    { 0x110BE, 0x110C1, 1 },
    { 0x11140, 0x11143, 1 },
    { 0x11174, 0x11175, 1 },
    { 0x111C5, 0x111C9, 1 },
    { 0x111CD, 0x111DB, 14 },
    { 0x111DD, 0x111DF, 1 },
    { 0x11238, 0x1123D, 1 },
    { 0x112A9, 0x114C6, 541 },
    { 0x115C1, 0x115D7, 1 },
    { 0x11641, 0x11643, 1 },
    { 0x1173C, 0x1173E, 1 },
    { 0x12470, 0x12474, 1 },
    { 0x16A6E, 0x16A6F, 1 },
    { 0x16AF5, 0x16B37, 66 },
    { 0x16B38, 0x16B3B, 1 },
    { 0x16B44, 0x1BC9F, 20827 },
    { 0x1D6C1, 0x1D6DB, 26 },
    { 0x1D6FB, 0x1D715, 26 },
    { 0x1D735, 0x1D74F, 26 },
    { 0x1D76F, 0x1D789, 26 },
    { 0x1D7A9, 0x1D7C3, 26 },
    { 0x1DA87, 0x1DA8B, 1 },
    { 0x1EEF0, 0x1EEF1, 1 },
    { 0x1F3FB, 0x1F3FF, 1 },
};
define_category(sys_p)

static struct range_table sys_i_charset[] = {
    { 0x30, 0x39, 1 },
    { 0x41, 0x5A, 1 },
    { 0x5F, 0x61, 2 },
    { 0x62, 0x7A, 1 },
    { 0xAA, 0xB5, 11 },
    { 0xBA, 0xC0, 6 },
    { 0xC1, 0xD6, 1 },
    { 0xD8, 0xF6, 1 },
    { 0xF8, 0x2C1, 1 },
    { 0x2C6, 0x2D1, 1 },
    { 0x2E0, 0x2E4, 1 },
    { 0x2EC, 0x2EE, 2 },
    { 0x345, 0x370, 43 },
    { 0x371, 0x374, 1 },
    { 0x376, 0x377, 1 },
    { 0x37A, 0x37D, 1 },
    { 0x37F, 0x386, 7 },
    { 0x388, 0x38A, 1 },
    { 0x38C, 0x38E, 2 },
    { 0x38F, 0x3A1, 1 },
    { 0x3A3, 0x3F5, 1 },
    { 0x3F7, 0x481, 1 },
    { 0x48A, 0x52F, 1 },
    { 0x531, 0x556, 1 },
    { 0x559, 0x561, 8 },
    { 0x562, 0x587, 1 },
    { 0x5B0, 0x5BD, 1 },
    { 0x5BF, 0x5C1, 2 },
    { 0x5C2, 0x5C4, 2 },
    { 0x5C5, 0x5C7, 2 },
    { 0x5D0, 0x5EA, 1 },
    { 0x5F0, 0x5F2, 1 },
    { 0x610, 0x61A, 1 },
    { 0x620, 0x657, 1 },
    { 0x659, 0x65F, 1 },
    { 0x66E, 0x6D3, 1 },
    { 0x6D5, 0x6DC, 1 },
    { 0x6E1, 0x6E8, 1 },
    { 0x6ED, 0x6EF, 1 },
    { 0x6FA, 0x6FC, 1 },
    { 0x6FF, 0x710, 17 },
    { 0x711, 0x73F, 1 },
    { 0x74D, 0x7B1, 1 },
    { 0x7CA, 0x7EA, 1 },
    { 0x7F4, 0x7F5, 1 },
    { 0x7FA, 0x800, 6 },
    { 0x801, 0x817, 1 },
    { 0x81A, 0x82C, 1 },
    { 0x840, 0x858, 1 },
    { 0x8A0, 0x8B4, 1 },
    { 0x8E3, 0x8E9, 1 },
    { 0x8F0, 0x93B, 1 },
    { 0x93D, 0x94C, 1 },
    { 0x94E, 0x950, 1 },
    { 0x955, 0x963, 1 },
    { 0x971, 0x983, 1 },
    { 0x985, 0x98C, 1 },
    { 0x98F, 0x990, 1 },
    { 0x993, 0x9A8, 1 },
    { 0x9AA, 0x9B0, 1 },
    { 0x9B2, 0x9B6, 4 },
    { 0x9B7, 0x9B9, 1 },
    { 0x9BD, 0x9C4, 1 },
    { 0x9C7, 0x9C8, 1 },
    { 0x9CB, 0x9CC, 1 },
    { 0x9CE, 0x9D7, 9 },
    { 0x9DC, 0x9DD, 1 },
    { 0x9DF, 0x9E3, 1 },
    { 0x9F0, 0x9F1, 1 },
    { 0xA01, 0xA03, 1 },
    { 0xA05, 0xA0A, 1 },
    { 0xA0F, 0xA10, 1 },
    { 0xA13, 0xA28, 1 },
    { 0xA2A, 0xA30, 1 },
    { 0xA32, 0xA33, 1 },
    { 0xA35, 0xA36, 1 },
    { 0xA38, 0xA39, 1 },
    { 0xA3E, 0xA42, 1 },
    { 0xA47, 0xA48, 1 },
    { 0xA4B, 0xA4C, 1 },
    { 0xA51, 0xA59, 8 },
    { 0xA5A, 0xA5C, 1 },
    { 0xA5E, 0xA70, 18 },
    { 0xA71, 0xA75, 1 },
    { 0xA81, 0xA83, 1 },
    { 0xA85, 0xA8D, 1 },
    { 0xA8F, 0xA91, 1 },
    { 0xA93, 0xAA8, 1 },
    { 0xAAA, 0xAB0, 1 },
    { 0xAB2, 0xAB3, 1 },
    { 0xAB5, 0xAB9, 1 },
    { 0xABD, 0xAC5, 1 },
    { 0xAC7, 0xAC9, 1 },
    { 0xACB, 0xACC, 1 },
    { 0xAD0, 0xAE0, 16 },
    { 0xAE1, 0xAE3, 1 },
    { 0xAF9, 0xB01, 8 },
    { 0xB02, 0xB03, 1 },
    { 0xB05, 0xB0C, 1 },
    { 0xB0F, 0xB10, 1 },
    { 0xB13, 0xB28, 1 },
    { 0xB2A, 0xB30, 1 },
    { 0xB32, 0xB33, 1 },
    { 0xB35, 0xB39, 1 },
    { 0xB3D, 0xB44, 1 },
    { 0xB47, 0xB48, 1 },
    { 0xB4B, 0xB4C, 1 },
    { 0xB56, 0xB57, 1 },
    { 0xB5C, 0xB5D, 1 },
    { 0xB5F, 0xB63, 1 },
    { 0xB71, 0xB82, 17 },
    { 0xB83, 0xB85, 2 },
    { 0xB86, 0xB8A, 1 },
    { 0xB8E, 0xB90, 1 },
    { 0xB92, 0xB95, 1 },
    { 0xB99, 0xB9A, 1 },
    { 0xB9C, 0xB9E, 2 },
    { 0xB9F, 0xBA3, 4 },
    { 0xBA4, 0xBA8, 4 },
    { 0xBA9, 0xBAA, 1 },
    { 0xBAE, 0xBB9, 1 },
    { 0xBBE, 0xBC2, 1 },
    { 0xBC6, 0xBC8, 1 },
    { 0xBCA, 0xBCC, 1 },
    { 0xBD0, 0xBD7, 7 },
    { 0xC00, 0xC03, 1 },
    { 0xC05, 0xC0C, 1 },
    { 0xC0E, 0xC10, 1 },
    { 0xC12, 0xC28, 1 },
    { 0xC2A, 0xC39, 1 },
    { 0xC3D, 0xC44, 1 },
    { 0xC46, 0xC48, 1 },
    { 0xC4A, 0xC4C, 1 },
    { 0xC55, 0xC56, 1 },
    { 0xC58, 0xC5A, 1 },
    { 0xC60, 0xC63, 1 },
    { 0xC81, 0xC83, 1 },
    { 0xC85, 0xC8C, 1 },
    { 0xC8E, 0xC90, 1 },
    { 0xC92, 0xCA8, 1 },
    { 0xCAA, 0xCB3, 1 },
    { 0xCB5, 0xCB9, 1 },
    { 0xCBD, 0xCC4, 1 },
    { 0xCC6, 0xCC8, 1 },
    { 0xCCA, 0xCCC, 1 },
    { 0xCD5, 0xCD6, 1 },
    { 0xCDE, 0xCE0, 2 },
    { 0xCE1, 0xCE3, 1 },
    { 0xCF1, 0xCF2, 1 },
    { 0xD01, 0xD03, 1 },
    { 0xD05, 0xD0C, 1 },
    { 0xD0E, 0xD10, 1 },
    { 0xD12, 0xD3A, 1 },
    { 0xD3D, 0xD44, 1 },
    { 0xD46, 0xD48, 1 },
    { 0xD4A, 0xD4C, 1 },
    { 0xD4E, 0xD57, 9 },
    { 0xD5F, 0xD63, 1 },
    { 0xD7A, 0xD7F, 1 },
    { 0xD82, 0xD83, 1 },
    { 0xD85, 0xD96, 1 },
    { 0xD9A, 0xDB1, 1 },
    { 0xDB3, 0xDBB, 1 },
    { 0xDBD, 0xDC0, 3 },
    { 0xDC1, 0xDC6, 1 },
    { 0xDCF, 0xDD4, 1 },
    { 0xDD6, 0xDD8, 2 },
    { 0xDD9, 0xDDF, 1 },
    { 0xDF2, 0xDF3, 1 },
    { 0xE01, 0xE3A, 1 },
    { 0xE40, 0xE46, 1 },
    { 0xE4D, 0xE81, 52 },
    { 0xE82, 0xE84, 2 },
    { 0xE87, 0xE88, 1 },
    { 0xE8A, 0xE8D, 3 },
    { 0xE94, 0xE97, 1 },
    { 0xE99, 0xE9F, 1 },
    { 0xEA1, 0xEA3, 1 },
    { 0xEA5, 0xEA7, 2 },
    { 0xEAA, 0xEAB, 1 },
    { 0xEAD, 0xEB9, 1 },
    { 0xEBB, 0xEBD, 1 },
    { 0xEC0, 0xEC4, 1 },
    { 0xEC6, 0xECD, 7 },
    { 0xEDC, 0xEDF, 1 },
    { 0xF00, 0xF40, 64 },
    { 0xF41, 0xF47, 1 },
    { 0xF49, 0xF6C, 1 },
    { 0xF71, 0xF81, 1 },
    { 0xF88, 0xF97, 1 },
    { 0xF99, 0xFBC, 1 },
    { 0x1000, 0x1036, 1 },
    { 0x1038, 0x103B, 3 },
    { 0x103C, 0x103F, 1 },
    { 0x1050, 0x1062, 1 },
    { 0x1065, 0x1068, 1 },
    { 0x106E, 0x1086, 1 },
    { 0x108E, 0x109C, 14 },
    { 0x109D, 0x10A0, 3 },
    { 0x10A1, 0x10C5, 1 },
    { 0x10C7, 0x10CD, 6 },
    { 0x10D0, 0x10FA, 1 },
    { 0x10FC, 0x1248, 1 },
    { 0x124A, 0x124D, 1 },
    { 0x1250, 0x1256, 1 },
    { 0x1258, 0x125A, 2 },
    { 0x125B, 0x125D, 1 },
    { 0x1260, 0x1288, 1 },
    { 0x128A, 0x128D, 1 },
    { 0x1290, 0x12B0, 1 },
    { 0x12B2, 0x12B5, 1 },
    { 0x12B8, 0x12BE, 1 },
    { 0x12C0, 0x12C2, 2 },
    { 0x12C3, 0x12C5, 1 },
    { 0x12C8, 0x12D6, 1 },
    { 0x12D8, 0x1310, 1 },
    { 0x1312, 0x1315, 1 },
    { 0x1318, 0x135A, 1 },
    { 0x135F, 0x1380, 33 },
    { 0x1381, 0x138F, 1 },
    { 0x13A0, 0x13F5, 1 },
    { 0x13F8, 0x13FD, 1 },
    { 0x1401, 0x166C, 1 },
    { 0x166F, 0x167F, 1 },
    { 0x1681, 0x169A, 1 },
    { 0x16A0, 0x16EA, 1 },
    { 0x16EE, 0x16F8, 1 },
    { 0x1700, 0x170C, 1 },
    { 0x170E, 0x1713, 1 },
    { 0x1720, 0x1733, 1 },
    { 0x1740, 0x1753, 1 },
    { 0x1760, 0x176C, 1 },
    { 0x176E, 0x1770, 1 },
    { 0x1772, 0x1773, 1 },
    { 0x1780, 0x17B3, 1 },
    { 0x17B6, 0x17C8, 1 },
    { 0x17D7, 0x17DC, 5 },
    { 0x1820, 0x1877, 1 },
    { 0x1880, 0x18AA, 1 },
    { 0x18B0, 0x18F5, 1 },
    { 0x1900, 0x191E, 1 },
    { 0x1920, 0x192B, 1 },
    { 0x1930, 0x1938, 1 },
    { 0x1950, 0x196D, 1 },
    { 0x1970, 0x1974, 1 },
    { 0x1980, 0x19AB, 1 },
    { 0x19B0, 0x19C9, 1 },
    { 0x1A00, 0x1A1B, 1 },
    { 0x1A20, 0x1A5E, 1 },
    { 0x1A61, 0x1A74, 1 },
    { 0x1AA7, 0x1B00, 89 },
    { 0x1B01, 0x1B33, 1 },
    { 0x1B35, 0x1B43, 1 },
    { 0x1B45, 0x1B4B, 1 },
    { 0x1B80, 0x1BA9, 1 },
    { 0x1BAC, 0x1BAF, 1 },
    { 0x1BBA, 0x1BE5, 1 },
    { 0x1BE7, 0x1BF1, 1 },
    { 0x1C00, 0x1C35, 1 },
    { 0x1C4D, 0x1C4F, 1 },
    { 0x1C5A, 0x1C7D, 1 },
    { 0x1CE9, 0x1CEC, 1 },
    { 0x1CEE, 0x1CF3, 1 },
    { 0x1CF5, 0x1CF6, 1 },
    { 0x1D00, 0x1DBF, 1 },
    { 0x1DE7, 0x1DF4, 1 },
    { 0x1E00, 0x1F15, 1 },
    { 0x1F18, 0x1F1D, 1 },
    { 0x1F20, 0x1F45, 1 },
    { 0x1F48, 0x1F4D, 1 },
    { 0x1F50, 0x1F57, 1 },
    { 0x1F59, 0x1F5F, 2 },
    { 0x1F60, 0x1F7D, 1 },
    { 0x1F80, 0x1FB4, 1 },
    { 0x1FB6, 0x1FBC, 1 },
    { 0x1FBE, 0x1FC2, 4 },
    { 0x1FC3, 0x1FC4, 1 },
    { 0x1FC6, 0x1FCC, 1 },
    { 0x1FD0, 0x1FD3, 1 },
    { 0x1FD6, 0x1FDB, 1 },
    { 0x1FE0, 0x1FEC, 1 },
    { 0x1FF2, 0x1FF4, 1 },
    { 0x1FF6, 0x1FFC, 1 },
    { 0x2071, 0x207F, 14 },
    { 0x2090, 0x209C, 1 },
    { 0x2102, 0x2107, 5 },
    { 0x210A, 0x2113, 1 },
    { 0x2115, 0x2119, 4 },
    { 0x211A, 0x211D, 1 },
    { 0x2124, 0x212A, 2 },
    { 0x212B, 0x212D, 1 },
    { 0x212F, 0x2139, 1 },
    { 0x213C, 0x213F, 1 },
    { 0x2145, 0x2149, 1 },
    { 0x214E, 0x2160, 18 },
    { 0x2161, 0x2188, 1 },
    { 0x24B6, 0x24E9, 1 },
    { 0x2C00, 0x2C2E, 1 },
    { 0x2C30, 0x2C5E, 1 },
    { 0x2C60, 0x2CE4, 1 },
    { 0x2CEB, 0x2CEE, 1 },
    { 0x2CF2, 0x2CF3, 1 },
    { 0x2D00, 0x2D25, 1 },
    { 0x2D27, 0x2D2D, 6 },
    { 0x2D30, 0x2D67, 1 },
    { 0x2D6F, 0x2D80, 17 },
    { 0x2D81, 0x2D96, 1 },
    { 0x2DA0, 0x2DA6, 1 },
    { 0x2DA8, 0x2DAE, 1 },
    { 0x2DB0, 0x2DB6, 1 },
    { 0x2DB8, 0x2DBE, 1 },
    { 0x2DC0, 0x2DC6, 1 },
    { 0x2DC8, 0x2DCE, 1 },
    { 0x2DD0, 0x2DD6, 1 },
    { 0x2DD8, 0x2DDE, 1 },
    { 0x2DE0, 0x2DFF, 1 },
    { 0x2E2F, 0x3005, 470 },
    { 0x3006, 0x3007, 1 },
    { 0x3021, 0x3029, 1 },
    { 0x3031, 0x3035, 1 },
    { 0x3038, 0x303C, 1 },
    { 0x3041, 0x3096, 1 },
    { 0x309D, 0x309F, 1 },
    { 0x30A1, 0x30FA, 1 },
    { 0x30FC, 0x30FF, 1 },
    { 0x3105, 0x312D, 1 },
    { 0x3131, 0x318E, 1 },
    { 0x31A0, 0x31BA, 1 },
    { 0x31F0, 0x31FF, 1 },
    { 0x3400, 0x4DB5, 1 },
    { 0x4E00, 0x9FD5, 1 },
    { 0xA000, 0xA48C, 1 },
    { 0xA4D0, 0xA4FD, 1 },
    { 0xA500, 0xA60C, 1 },
    { 0xA610, 0xA61F, 1 },
    { 0xA62A, 0xA62B, 1 },
    { 0xA640, 0xA66E, 1 },
    { 0xA674, 0xA67B, 1 },
    { 0xA67F, 0xA6EF, 1 },
    { 0xA717, 0xA71F, 1 },
    { 0xA722, 0xA788, 1 },
    { 0xA78B, 0xA7AD, 1 },
    { 0xA7B0, 0xA7B7, 1 },
    { 0xA7F7, 0xA801, 1 },
    { 0xA803, 0xA805, 1 },
    { 0xA807, 0xA80A, 1 },
    { 0xA80C, 0xA827, 1 },
    { 0xA840, 0xA873, 1 },
    { 0xA880, 0xA8C3, 1 },
    { 0xA8F2, 0xA8F7, 1 },
    { 0xA8FB, 0xA8FD, 2 },
    { 0xA90A, 0xA92A, 1 },
    { 0xA930, 0xA952, 1 },
    { 0xA960, 0xA97C, 1 },
    { 0xA980, 0xA9B2, 1 },
    { 0xA9B4, 0xA9BF, 1 },
    { 0xA9CF, 0xA9E0, 17 },
    { 0xA9E1, 0xA9E4, 1 },
    { 0xA9E6, 0xA9EF, 1 },
    { 0xA9FA, 0xA9FE, 1 },
    { 0xAA00, 0xAA36, 1 },
    { 0xAA40, 0xAA4D, 1 },
    { 0xAA60, 0xAA76, 1 },
    { 0xAA7A, 0xAA7E, 4 },
    { 0xAA7F, 0xAABE, 1 },
    { 0xAAC0, 0xAAC2, 2 },
    { 0xAADB, 0xAADD, 1 },
    { 0xAAE0, 0xAAEF, 1 },
    { 0xAAF2, 0xAAF5, 1 },
    { 0xAB01, 0xAB06, 1 },
    { 0xAB09, 0xAB0E, 1 },
    { 0xAB11, 0xAB16, 1 },
    { 0xAB20, 0xAB26, 1 },
    { 0xAB28, 0xAB2E, 1 },
    { 0xAB30, 0xAB5A, 1 },
    { 0xAB5C, 0xAB65, 1 },
    { 0xAB70, 0xABEA, 1 },
    { 0xAC00, 0xD7A3, 1 },
    { 0xD7B0, 0xD7C6, 1 },
    { 0xD7CB, 0xD7FB, 1 },
    { 0xF900, 0xFA6D, 1 },
    { 0xFA70, 0xFAD9, 1 },
    { 0xFB00, 0xFB06, 1 },
    { 0xFB13, 0xFB17, 1 },
    { 0xFB1D, 0xFB28, 1 },
    { 0xFB2A, 0xFB36, 1 },
    { 0xFB38, 0xFB3C, 1 },
    { 0xFB3E, 0xFB40, 2 },
    { 0xFB41, 0xFB43, 2 },
    { 0xFB44, 0xFB46, 2 },
    { 0xFB47, 0xFBB1, 1 },
    { 0xFBD3, 0xFD3D, 1 },
    { 0xFD50, 0xFD8F, 1 },
    { 0xFD92, 0xFDC7, 1 },
    { 0xFDF0, 0xFDFB, 1 },
    { 0xFE70, 0xFE74, 1 },
    { 0xFE76, 0xFEFC, 1 },
    { 0xFF21, 0xFF3A, 1 },
    { 0xFF41, 0xFF5A, 1 },
    { 0xFF66, 0xFFBE, 1 },
    { 0xFFC2, 0xFFC7, 1 },
    { 0xFFCA, 0xFFCF, 1 },
    { 0xFFD2, 0xFFD7, 1 },
    { 0xFFDA, 0xFFDC, 1 },
    { 0x10000, 0x1000B, 1 },
    { 0x1000D, 0x10026, 1 },
    { 0x10028, 0x1003A, 1 },
    { 0x1003C, 0x1003D, 1 },
    { 0x1003F, 0x1004D, 1 },
    { 0x10050, 0x1005D, 1 },
    { 0x10080, 0x100FA, 1 },
    { 0x10140, 0x10174, 1 },
    { 0x10280, 0x1029C, 1 },
    { 0x102A0, 0x102D0, 1 },
    { 0x10300, 0x1031F, 1 },
    { 0x10330, 0x1034A, 1 },
    { 0x10350, 0x1037A, 1 },
    { 0x10380, 0x1039D, 1 },
    { 0x103A0, 0x103C3, 1 },
    { 0x103C8, 0x103CF, 1 },
    { 0x103D1, 0x103D5, 1 },
    { 0x10400, 0x1049D, 1 },
    { 0x10500, 0x10527, 1 },
    { 0x10530, 0x10563, 1 },
    { 0x10600, 0x10736, 1 },
    { 0x10740, 0x10755, 1 },
    { 0x10760, 0x10767, 1 },
    { 0x10800, 0x10805, 1 },
    { 0x10808, 0x1080A, 2 },
    { 0x1080B, 0x10835, 1 },
    { 0x10837, 0x10838, 1 },
    { 0x1083C, 0x1083F, 3 },
    { 0x10840, 0x10855, 1 },
    { 0x10860, 0x10876, 1 },
    { 0x10880, 0x1089E, 1 },
    { 0x108E0, 0x108F2, 1 },
    { 0x108F4, 0x108F5, 1 },
    { 0x10900, 0x10915, 1 },
    { 0x10920, 0x10939, 1 },
    { 0x10980, 0x109B7, 1 },
    { 0x109BE, 0x109BF, 1 },
    { 0x10A00, 0x10A03, 1 },
    { 0x10A05, 0x10A06, 1 },
    { 0x10A0C, 0x10A13, 1 },
    { 0x10A15, 0x10A17, 1 },
    { 0x10A19, 0x10A33, 1 },
    { 0x10A60, 0x10A7C, 1 },
    { 0x10A80, 0x10A9C, 1 },
    { 0x10AC0, 0x10AC7, 1 },
    { 0x10AC9, 0x10AE4, 1 },
    { 0x10B00, 0x10B35, 1 },
    { 0x10B40, 0x10B55, 1 },
    { 0x10B60, 0x10B72, 1 },
    { 0x10B80, 0x10B91, 1 },
    { 0x10C00, 0x10C48, 1 },
    { 0x10C80, 0x10CB2, 1 },
    { 0x10CC0, 0x10CF2, 1 },
    { 0x11000, 0x11045, 1 },
    { 0x11082, 0x110B8, 1 },
    { 0x110D0, 0x110E8, 1 },
    { 0x11100, 0x11132, 1 },
    { 0x11150, 0x11172, 1 },
    { 0x11176, 0x11180, 10 },
    { 0x11181, 0x111BF, 1 },
    { 0x111C1, 0x111C4, 1 },
    { 0x111DA, 0x111DC, 2 },
    { 0x11200, 0x11211, 1 },
    { 0x11213, 0x11234, 1 },
    { 0x11237, 0x11280, 73 },
    { 0x11281, 0x11286, 1 },
    { 0x11288, 0x1128A, 2 },
    { 0x1128B, 0x1128D, 1 },
    { 0x1128F, 0x1129D, 1 },
    { 0x1129F, 0x112A8, 1 },
    { 0x112B0, 0x112E8, 1 },
    { 0x11300, 0x11303, 1 },
    { 0x11305, 0x1130C, 1 },
    { 0x1130F, 0x11310, 1 },
    { 0x11313, 0x11328, 1 },
    { 0x1132A, 0x11330, 1 },
    { 0x11332, 0x11333, 1 },
    { 0x11335, 0x11339, 1 },
    { 0x1133D, 0x11344, 1 },
    { 0x11347, 0x11348, 1 },
    { 0x1134B, 0x1134C, 1 },
    { 0x11350, 0x11357, 7 },
    { 0x1135D, 0x11363, 1 },
    { 0x11480, 0x114C1, 1 },
    { 0x114C4, 0x114C5, 1 },
    { 0x114C7, 0x11580, 185 },
    { 0x11581, 0x115B5, 1 },
    { 0x115B8, 0x115BE, 1 },
    { 0x115D8, 0x115DD, 1 },
    { 0x11600, 0x1163E, 1 },
    { 0x11640, 0x11644, 4 },
    { 0x11680, 0x116B5, 1 },
    { 0x11700, 0x11719, 1 },
    { 0x1171D, 0x1172A, 1 },
    { 0x118A0, 0x118DF, 1 },
    { 0x118FF, 0x11AC0, 449 },
    { 0x11AC1, 0x11AF8, 1 },
    { 0x12000, 0x12399, 1 },
    { 0x12400, 0x1246E, 1 },
    { 0x12480, 0x12543, 1 },
    { 0x13000, 0x1342E, 1 },
    { 0x14400, 0x14646, 1 },
    { 0x16800, 0x16A38, 1 },
    { 0x16A40, 0x16A5E, 1 },
    { 0x16AD0, 0x16AED, 1 },
    { 0x16B00, 0x16B36, 1 },
    { 0x16B40, 0x16B43, 1 },
    { 0x16B63, 0x16B77, 1 },
    { 0x16B7D, 0x16B8F, 1 },
    { 0x16F00, 0x16F44, 1 },
    { 0x16F50, 0x16F7E, 1 },
    { 0x16F93, 0x16F9F, 1 },
    { 0x1B000, 0x1B001, 1 },
    { 0x1BC00, 0x1BC6A, 1 },
    { 0x1BC70, 0x1BC7C, 1 },
    { 0x1BC80, 0x1BC88, 1 },
    { 0x1BC90, 0x1BC99, 1 },
    { 0x1BC9E, 0x1D400, 5986 },
    { 0x1D401, 0x1D454, 1 },
    { 0x1D456, 0x1D49C, 1 },
    { 0x1D49E, 0x1D49F, 1 },
    { 0x1D4A2, 0x1D4A5, 3 },
    { 0x1D4A6, 0x1D4A9, 3 },
    { 0x1D4AA, 0x1D4AC, 1 },
    { 0x1D4AE, 0x1D4B9, 1 },
    { 0x1D4BB, 0x1D4BD, 2 },
    { 0x1D4BE, 0x1D4C3, 1 },
    { 0x1D4C5, 0x1D505, 1 },
    { 0x1D507, 0x1D50A, 1 },
    { 0x1D50D, 0x1D514, 1 },
    { 0x1D516, 0x1D51C, 1 },
    { 0x1D51E, 0x1D539, 1 },
    { 0x1D53B, 0x1D53E, 1 },
    { 0x1D540, 0x1D544, 1 },
    { 0x1D546, 0x1D54A, 4 },
    { 0x1D54B, 0x1D550, 1 },
    { 0x1D552, 0x1D6A5, 1 },
    { 0x1D6A8, 0x1D6C0, 1 },
    { 0x1D6C2, 0x1D6DA, 1 },
    { 0x1D6DC, 0x1D6FA, 1 },
    { 0x1D6FC, 0x1D714, 1 },
    { 0x1D716, 0x1D734, 1 },
    { 0x1D736, 0x1D74E, 1 },
    { 0x1D750, 0x1D76E, 1 },
    { 0x1D770, 0x1D788, 1 },
    { 0x1D78A, 0x1D7A8, 1 },
    { 0x1D7AA, 0x1D7C2, 1 },
    { 0x1D7C4, 0x1D7CB, 1 },
    { 0x1E800, 0x1E8C4, 1 },
    { 0x1EE00, 0x1EE03, 1 },
    { 0x1EE05, 0x1EE1F, 1 },
    { 0x1EE21, 0x1EE22, 1 },
    { 0x1EE24, 0x1EE27, 3 },
    { 0x1EE29, 0x1EE32, 1 },
    { 0x1EE34, 0x1EE37, 1 },
    { 0x1EE39, 0x1EE3B, 2 },
    { 0x1EE42, 0x1EE47, 5 },
    { 0x1EE49, 0x1EE4D, 2 },
    { 0x1EE4E, 0x1EE4F, 1 },
    { 0x1EE51, 0x1EE52, 1 },
    { 0x1EE54, 0x1EE57, 3 },
    { 0x1EE59, 0x1EE61, 2 },
    { 0x1EE62, 0x1EE64, 2 },
    { 0x1EE67, 0x1EE6A, 1 },
    { 0x1EE6C, 0x1EE72, 1 },
    { 0x1EE74, 0x1EE77, 1 },
    { 0x1EE79, 0x1EE7C, 1 },
    { 0x1EE7E, 0x1EE80, 2 },
    { 0x1EE81, 0x1EE89, 1 },
    { 0x1EE8B, 0x1EE9B, 1 },
    { 0x1EEA1, 0x1EEA3, 1 },
    { 0x1EEA5, 0x1EEA9, 1 },
    { 0x1EEAB, 0x1EEBB, 1 },
    { 0x1F130, 0x1F149, 1 },
    { 0x1F150, 0x1F169, 1 },
    { 0x1F170, 0x1F189, 1 },
    { 0x20000, 0x2A6D6, 1 },
    { 0x2A700, 0x2B734, 1 },
    { 0x2B740, 0x2B81D, 1 },
    { 0x2B820, 0x2CEA1, 1 },
    { 0x2F800, 0x2FA1D, 1 },
};
define_category(sys_i)

// user charclass: "%-+*?/%^&|%%!<>=%^!"
static struct range_table oper_charset[] = {
	{ 0x21, 0x21, 1 },
	{ 0x25, 0x26, 1 },
	{ 0x2A, 0x2B, 1 },
	{ 0x2D, 0x2F, 2 },
	{ 0x3C, 0x3F, 1 },
	{ 0x5E, 0x5E, 1 },
	{ 0x7C, 0x7C, 1 },
};
define_category(oper)


enum attribute {
	ident_first=1, ident_next=2,
	digit=4, hex_digit=8, white_space=16, 
	punct1=1<<5, punct2=2<<5, punct3=3<<5,
	punct4=4<<5, punct5=5<<5, punct6=6<<5, 
	punct7=7<<5, punctuation=224
};

int charclass_id(unsigned ch){ 
	static struct range_map charsets[] = {
		{ 0x9, 0xA, 1, white_space }, 											// `\t\r\n`
		{ 0xD, 0x20, 19, white_space }, 										// ` `
		{ 0x21, 0x2F, 1, punct1 },  												// `!"#$%&'()*+,-./`
		{ 0x30, 0x39, 1, hex_digit | digit | ident_next },
		{ 0x3A, 0x40, 1, punct2 },  												// `:;<=>?@`
		{ 0x41, 0x46, 1, hex_digit | ident_first | ident_next },
		{ 0x47, 0x5A, 1, ident_first | ident_next },
		{ 0x5B, 0x5E, 1, punct3 },													// `[\]^`
		{ 0x5F, 0x60, 2, ident_first | ident_next },
		{ 0x61, 0x66, 1, hex_digit | ident_first | ident_next },
		{ 0x67, 0x7A, 1, ident_first | ident_next },
		{ 0x7B, 0x7E, 1, punct4 },													// `{|}~`
		{ 0xA1, 0xA5, 1, punct5 },
		{ 0xA7, 0xA8, 1, punct6 },
		{ 0xAA, 0xB5, 11, ident_first | ident_next },
		{ 0xAB, 0xAC, 1, punct7 },
		{ 0xBA, 0xC0, 6, ident_first | ident_next },
		{ 0xC1, 0xD6, 1, ident_first | ident_next },
		{ 0xD8, 0xF6, 1, ident_first | ident_next },
		{ 0xF8, 0x2C1, 1, ident_first | ident_next },
		{ 0x2C6, 0x2D1, 1, ident_first | ident_next },
		{ 0x2E0, 0x2E4, 1, ident_first | ident_next },
		{ 0x2EC, 0x2EE, 2, ident_first | ident_next },
		{ 0x345, 0x370, 43, ident_first | ident_next },
		{ 0x371, 0x374, 1, ident_first | ident_next },
		{ 0x376, 0x377, 1, ident_first | ident_next },
		{ 0x37A, 0x37D, 1, ident_first | ident_next },
		{ 0x37F, 0x386, 7, ident_first | ident_next },
		{ 0x388, 0x38A, 1, ident_first | ident_next },
		{ 0x38C, 0x38E, 2, ident_first | ident_next },
		{ 0x38F, 0x3A1, 1, ident_first | ident_next },
		{ 0x3A3, 0x3F5, 1, ident_first | ident_next },
		{ 0x3F7, 0x481, 1, ident_first | ident_next },
		{ 0x48A, 0x52F, 1, ident_first | ident_next },
		{ 0x531, 0x556, 1, ident_first | ident_next },
		{ 0x559, 0x561, 8, ident_first | ident_next },
		{ 0x562, 0x587, 1, ident_first | ident_next },
		{ 0x5B0, 0x5BD, 1, ident_first | ident_next },
		{ 0x5BF, 0x5C1, 2, ident_first | ident_next },
		{ 0x5C2, 0x5C4, 2, ident_first | ident_next },
		{ 0x5C5, 0x5C7, 2, ident_first | ident_next },
		{ 0x5D0, 0x5EA, 1, ident_first | ident_next },
		{ 0x5F0, 0x5F2, 1, ident_first | ident_next },
		{ 0x610, 0x61A, 1, ident_first | ident_next },
		{ 0x620, 0x657, 1, ident_first | ident_next },
		{ 0x659, 0x65F, 1, ident_first | ident_next },
		{ 0x66E, 0x6D3, 1, ident_first | ident_next },
		{ 0x6D5, 0x6DC, 1, ident_first | ident_next },
		{ 0x6E1, 0x6E8, 1, ident_first | ident_next },
		{ 0x6ED, 0x6EF, 1, ident_first | ident_next },
		{ 0x6FA, 0x6FC, 1, ident_first | ident_next },
		{ 0x6FF, 0x710, 17, ident_first | ident_next },
		{ 0x711, 0x73F, 1, ident_first | ident_next },
		{ 0x74D, 0x7B1, 1, ident_first | ident_next },
		{ 0x7CA, 0x7EA, 1, ident_first | ident_next },
		{ 0x7F4, 0x7F5, 1, ident_first | ident_next },
		{ 0x7FA, 0x800, 6, ident_first | ident_next },
		{ 0x801, 0x817, 1, ident_first | ident_next },
		{ 0x81A, 0x82C, 1, ident_first | ident_next },
		{ 0x840, 0x858, 1, ident_first | ident_next },
		{ 0x8A0, 0x8B4, 1, ident_first | ident_next },
		{ 0x8E3, 0x8E9, 1, ident_first | ident_next },
		{ 0x8F0, 0x93B, 1, ident_first | ident_next },
		{ 0x93D, 0x94C, 1, ident_first | ident_next },
		{ 0x94E, 0x950, 1, ident_first | ident_next },
		{ 0x955, 0x963, 1, ident_first | ident_next },
		{ 0x971, 0x983, 1, ident_first | ident_next },
		{ 0x985, 0x98C, 1, ident_first | ident_next },
		{ 0x98F, 0x990, 1, ident_first | ident_next },
		{ 0x993, 0x9A8, 1, ident_first | ident_next },
		{ 0x9AA, 0x9B0, 1, ident_first | ident_next },
		{ 0x9B2, 0x9B6, 4, ident_first | ident_next },
		{ 0x9B7, 0x9B9, 1, ident_first | ident_next },
		{ 0x9BD, 0x9C4, 1, ident_first | ident_next },
		{ 0x9C7, 0x9C8, 1, ident_first | ident_next },
		{ 0x9CB, 0x9CC, 1, ident_first | ident_next },
		{ 0x9CE, 0x9D7, 9, ident_first | ident_next },
		{ 0x9DC, 0x9DD, 1, ident_first | ident_next },
		{ 0x9DF, 0x9E3, 1, ident_first | ident_next },
		{ 0x9F0, 0x9F1, 1, ident_first | ident_next },
		{ 0xA01, 0xA03, 1, ident_first | ident_next },
		{ 0xA05, 0xA0A, 1, ident_first | ident_next },
		{ 0xA0F, 0xA10, 1, ident_first | ident_next },
		{ 0xA13, 0xA28, 1, ident_first | ident_next },
		{ 0xA2A, 0xA30, 1, ident_first | ident_next },
		{ 0xA32, 0xA33, 1, ident_first | ident_next },
		{ 0xA35, 0xA36, 1, ident_first | ident_next },
		{ 0xA38, 0xA39, 1, ident_first | ident_next },
		{ 0xA3E, 0xA42, 1, ident_first | ident_next },
		{ 0xA47, 0xA48, 1, ident_first | ident_next },
		{ 0xA4B, 0xA4C, 1, ident_first | ident_next },
		{ 0xA51, 0xA59, 8, ident_first | ident_next },
		{ 0xA5A, 0xA5C, 1, ident_first | ident_next },
		{ 0xA5E, 0xA70, 18, ident_first | ident_next },
		{ 0xA71, 0xA75, 1, ident_first | ident_next },
		{ 0xA81, 0xA83, 1, ident_first | ident_next },
		{ 0xA85, 0xA8D, 1, ident_first | ident_next },
		{ 0xA8F, 0xA91, 1, ident_first | ident_next },
		{ 0xA93, 0xAA8, 1, ident_first | ident_next },
		{ 0xAAA, 0xAB0, 1, ident_first | ident_next },
		{ 0xAB2, 0xAB3, 1, ident_first | ident_next },
		{ 0xAB5, 0xAB9, 1, ident_first | ident_next },
		{ 0xABD, 0xAC5, 1, ident_first | ident_next },
		{ 0xAC7, 0xAC9, 1, ident_first | ident_next },
		{ 0xACB, 0xACC, 1, ident_first | ident_next },
		{ 0xAD0, 0xAE0, 16, ident_first | ident_next },
		{ 0xAE1, 0xAE3, 1, ident_first | ident_next },
		{ 0xAF9, 0xB01, 8, ident_first | ident_next },
		{ 0xB02, 0xB03, 1, ident_first | ident_next },
		{ 0xB05, 0xB0C, 1, ident_first | ident_next },
		{ 0xB0F, 0xB10, 1, ident_first | ident_next },
		{ 0xB13, 0xB28, 1, ident_first | ident_next },
		{ 0xB2A, 0xB30, 1, ident_first | ident_next },
		{ 0xB32, 0xB33, 1, ident_first | ident_next },
		{ 0xB35, 0xB39, 1, ident_first | ident_next },
		{ 0xB3D, 0xB44, 1, ident_first | ident_next },
		{ 0xB47, 0xB48, 1, ident_first | ident_next },
		{ 0xB4B, 0xB4C, 1, ident_first | ident_next },
		{ 0xB56, 0xB57, 1, ident_first | ident_next },
		{ 0xB5C, 0xB5D, 1, ident_first | ident_next },
		{ 0xB5F, 0xB63, 1, ident_first | ident_next },
		{ 0xB71, 0xB82, 17, ident_first | ident_next },
		{ 0xB83, 0xB85, 2, ident_first | ident_next },
		{ 0xB86, 0xB8A, 1, ident_first | ident_next },
		{ 0xB8E, 0xB90, 1, ident_first | ident_next },
		{ 0xB92, 0xB95, 1, ident_first | ident_next },
		{ 0xB99, 0xB9A, 1, ident_first | ident_next },
		{ 0xB9C, 0xB9E, 2, ident_first | ident_next },
		{ 0xB9F, 0xBA3, 4, ident_first | ident_next },
		{ 0xBA4, 0xBA8, 4, ident_first | ident_next },
		{ 0xBA9, 0xBAA, 1, ident_first | ident_next },
		{ 0xBAE, 0xBB9, 1, ident_first | ident_next },
		{ 0xBBE, 0xBC2, 1, ident_first | ident_next },
		{ 0xBC6, 0xBC8, 1, ident_first | ident_next },
		{ 0xBCA, 0xBCC, 1, ident_first | ident_next },
		{ 0xBD0, 0xBD7, 7, ident_first | ident_next },
		{ 0xC00, 0xC03, 1, ident_first | ident_next },
		{ 0xC05, 0xC0C, 1, ident_first | ident_next },
		{ 0xC0E, 0xC10, 1, ident_first | ident_next },
		{ 0xC12, 0xC28, 1, ident_first | ident_next },
		{ 0xC2A, 0xC39, 1, ident_first | ident_next },
		{ 0xC3D, 0xC44, 1, ident_first | ident_next },
		{ 0xC46, 0xC48, 1, ident_first | ident_next },
		{ 0xC4A, 0xC4C, 1, ident_first | ident_next },
		{ 0xC55, 0xC56, 1, ident_first | ident_next },
		{ 0xC58, 0xC5A, 1, ident_first | ident_next },
		{ 0xC60, 0xC63, 1, ident_first | ident_next },
		{ 0xC81, 0xC83, 1, ident_first | ident_next },
		{ 0xC85, 0xC8C, 1, ident_first | ident_next },
		{ 0xC8E, 0xC90, 1, ident_first | ident_next },
		{ 0xC92, 0xCA8, 1, ident_first | ident_next },
		{ 0xCAA, 0xCB3, 1, ident_first | ident_next },
		{ 0xCB5, 0xCB9, 1, ident_first | ident_next },
		{ 0xCBD, 0xCC4, 1, ident_first | ident_next },
		{ 0xCC6, 0xCC8, 1, ident_first | ident_next },
		{ 0xCCA, 0xCCC, 1, ident_first | ident_next },
		{ 0xCD5, 0xCD6, 1, ident_first | ident_next },
		{ 0xCDE, 0xCE0, 2, ident_first | ident_next },
		{ 0xCE1, 0xCE3, 1, ident_first | ident_next },
		{ 0xCF1, 0xCF2, 1, ident_first | ident_next },
		{ 0xD01, 0xD03, 1, ident_first | ident_next },
		{ 0xD05, 0xD0C, 1, ident_first | ident_next },
		{ 0xD0E, 0xD10, 1, ident_first | ident_next },
		{ 0xD12, 0xD3A, 1, ident_first | ident_next },
		{ 0xD3D, 0xD44, 1, ident_first | ident_next },
		{ 0xD46, 0xD48, 1, ident_first | ident_next },
		{ 0xD4A, 0xD4C, 1, ident_first | ident_next },
		{ 0xD4E, 0xD57, 9, ident_first | ident_next },
		{ 0xD5F, 0xD63, 1, ident_first | ident_next },
		{ 0xD7A, 0xD7F, 1, ident_first | ident_next },
		{ 0xD82, 0xD83, 1, ident_first | ident_next },
		{ 0xD85, 0xD96, 1, ident_first | ident_next },
		{ 0xD9A, 0xDB1, 1, ident_first | ident_next },
		{ 0xDB3, 0xDBB, 1, ident_first | ident_next },
		{ 0xDBD, 0xDC0, 3, ident_first | ident_next },
		{ 0xDC1, 0xDC6, 1, ident_first | ident_next },
		{ 0xDCF, 0xDD4, 1, ident_first | ident_next },
		{ 0xDD6, 0xDD8, 2, ident_first | ident_next },
		{ 0xDD9, 0xDDF, 1, ident_first | ident_next },
		{ 0xDF2, 0xDF3, 1, ident_first | ident_next },
		{ 0xE01, 0xE3A, 1, ident_first | ident_next },
		{ 0xE40, 0xE46, 1, ident_first | ident_next },
		{ 0xE4D, 0xE81, 52, ident_first | ident_next },
		{ 0xE82, 0xE84, 2, ident_first | ident_next },
		{ 0xE87, 0xE88, 1, ident_first | ident_next },
		{ 0xE8A, 0xE8D, 3, ident_first | ident_next },
		{ 0xE94, 0xE97, 1, ident_first | ident_next },
		{ 0xE99, 0xE9F, 1, ident_first | ident_next },
		{ 0xEA1, 0xEA3, 1, ident_first | ident_next },
		{ 0xEA5, 0xEA7, 2, ident_first | ident_next },
		{ 0xEAA, 0xEAB, 1, ident_first | ident_next },
		{ 0xEAD, 0xEB9, 1, ident_first | ident_next },
		{ 0xEBB, 0xEBD, 1, ident_first | ident_next },
		{ 0xEC0, 0xEC4, 1, ident_first | ident_next },
		{ 0xEC6, 0xECD, 7, ident_first | ident_next },
		{ 0xEDC, 0xEDF, 1, ident_first | ident_next },
		{ 0xF00, 0xF40, 64, ident_first | ident_next },
		{ 0xF41, 0xF47, 1, ident_first | ident_next },
		{ 0xF49, 0xF6C, 1, ident_first | ident_next },
		{ 0xF71, 0xF81, 1, ident_first | ident_next },
		{ 0xF88, 0xF97, 1, ident_first | ident_next },
		{ 0xF99, 0xFBC, 1, ident_first | ident_next },
		{ 0x1000, 0x1036, 1, ident_first | ident_next },
		{ 0x1038, 0x103B, 3, ident_first | ident_next },
		{ 0x103C, 0x103F, 1, ident_first | ident_next },
		{ 0x1050, 0x1062, 1, ident_first | ident_next },
		{ 0x1065, 0x1068, 1, ident_first | ident_next },
		{ 0x106E, 0x1086, 1, ident_first | ident_next },
		{ 0x108E, 0x109C, 14, ident_first | ident_next },
		{ 0x109D, 0x10A0, 3, ident_first | ident_next },
		{ 0x10A1, 0x10C5, 1, ident_first | ident_next },
		{ 0x10C7, 0x10CD, 6, ident_first | ident_next },
		{ 0x10D0, 0x10FA, 1, ident_first | ident_next },
		{ 0x10FC, 0x1248, 1, ident_first | ident_next },
		{ 0x124A, 0x124D, 1, ident_first | ident_next },
		{ 0x1250, 0x1256, 1, ident_first | ident_next },
		{ 0x1258, 0x125A, 2, ident_first | ident_next },
		{ 0x125B, 0x125D, 1, ident_first | ident_next },
		{ 0x1260, 0x1288, 1, ident_first | ident_next },
		{ 0x128A, 0x128D, 1, ident_first | ident_next },
		{ 0x1290, 0x12B0, 1, ident_first | ident_next },
		{ 0x12B2, 0x12B5, 1, ident_first | ident_next },
		{ 0x12B8, 0x12BE, 1, ident_first | ident_next },
		{ 0x12C0, 0x12C2, 2, ident_first | ident_next },
		{ 0x12C3, 0x12C5, 1, ident_first | ident_next },
		{ 0x12C8, 0x12D6, 1, ident_first | ident_next },
		{ 0x12D8, 0x1310, 1, ident_first | ident_next },
		{ 0x1312, 0x1315, 1, ident_first | ident_next },
		{ 0x1318, 0x135A, 1, ident_first | ident_next },
		{ 0x135F, 0x1380, 33, ident_first | ident_next },
		{ 0x1381, 0x138F, 1, ident_first | ident_next },
		{ 0x13A0, 0x13F5, 1, ident_first | ident_next },
		{ 0x13F8, 0x13FD, 1, ident_first | ident_next },
		{ 0x1401, 0x166C, 1, ident_first | ident_next },
		{ 0x166F, 0x167F, 1, ident_first | ident_next },
		{ 0x1681, 0x169A, 1, ident_first | ident_next },
		{ 0x16A0, 0x16EA, 1, ident_first | ident_next },
		{ 0x16EE, 0x16F8, 1, ident_first | ident_next },
		{ 0x1700, 0x170C, 1, ident_first | ident_next },
		{ 0x170E, 0x1713, 1, ident_first | ident_next },
		{ 0x1720, 0x1733, 1, ident_first | ident_next },
		{ 0x1740, 0x1753, 1, ident_first | ident_next },
		{ 0x1760, 0x176C, 1, ident_first | ident_next },
		{ 0x176E, 0x1770, 1, ident_first | ident_next },
		{ 0x1772, 0x1773, 1, ident_first | ident_next },
		{ 0x1780, 0x17B3, 1, ident_first | ident_next },
		{ 0x17B6, 0x17C8, 1, ident_first | ident_next },
		{ 0x17D7, 0x17DC, 5, ident_first | ident_next },
		{ 0x1820, 0x1877, 1, ident_first | ident_next },
		{ 0x1880, 0x18AA, 1, ident_first | ident_next },
		{ 0x18B0, 0x18F5, 1, ident_first | ident_next },
		{ 0x1900, 0x191E, 1, ident_first | ident_next },
		{ 0x1920, 0x192B, 1, ident_first | ident_next },
		{ 0x1930, 0x1938, 1, ident_first | ident_next },
		{ 0x1950, 0x196D, 1, ident_first | ident_next },
		{ 0x1970, 0x1974, 1, ident_first | ident_next },
		{ 0x1980, 0x19AB, 1, ident_first | ident_next },
		{ 0x19B0, 0x19C9, 1, ident_first | ident_next },
		{ 0x1A00, 0x1A1B, 1, ident_first | ident_next },
		{ 0x1A20, 0x1A5E, 1, ident_first | ident_next },
		{ 0x1A61, 0x1A74, 1, ident_first | ident_next },
		{ 0x1AA7, 0x1B00, 89, ident_first | ident_next },
		{ 0x1B01, 0x1B33, 1, ident_first | ident_next },
		{ 0x1B35, 0x1B43, 1, ident_first | ident_next },
		{ 0x1B45, 0x1B4B, 1, ident_first | ident_next },
		{ 0x1B80, 0x1BA9, 1, ident_first | ident_next },
		{ 0x1BAC, 0x1BAF, 1, ident_first | ident_next },
		{ 0x1BBA, 0x1BE5, 1, ident_first | ident_next },
		{ 0x1BE7, 0x1BF1, 1, ident_first | ident_next },
		{ 0x1C00, 0x1C35, 1, ident_first | ident_next },
		{ 0x1C4D, 0x1C4F, 1, ident_first | ident_next },
		{ 0x1C5A, 0x1C7D, 1, ident_first | ident_next },
		{ 0x1CE9, 0x1CEC, 1, ident_first | ident_next },
		{ 0x1CEE, 0x1CF3, 1, ident_first | ident_next },
		{ 0x1CF5, 0x1CF6, 1, ident_first | ident_next },
		{ 0x1D00, 0x1DBF, 1, ident_first | ident_next },
		{ 0x1DE7, 0x1DF4, 1, ident_first | ident_next },
		{ 0x1E00, 0x1F15, 1, ident_first | ident_next },
		{ 0x1F18, 0x1F1D, 1, ident_first | ident_next },
		{ 0x1F20, 0x1F45, 1, ident_first | ident_next },
		{ 0x1F48, 0x1F4D, 1, ident_first | ident_next },
		{ 0x1F50, 0x1F57, 1, ident_first | ident_next },
		{ 0x1F59, 0x1F5F, 2, ident_first | ident_next },
		{ 0x1F60, 0x1F7D, 1, ident_first | ident_next },
		{ 0x1F80, 0x1FB4, 1, ident_first | ident_next },
		{ 0x1FB6, 0x1FBC, 1, ident_first | ident_next },
		{ 0x1FBE, 0x1FC2, 4, ident_first | ident_next },
		{ 0x1FC3, 0x1FC4, 1, ident_first | ident_next },
		{ 0x1FC6, 0x1FCC, 1, ident_first | ident_next },
		{ 0x1FD0, 0x1FD3, 1, ident_first | ident_next },
		{ 0x1FD6, 0x1FDB, 1, ident_first | ident_next },
		{ 0x1FE0, 0x1FEC, 1, ident_first | ident_next },
		{ 0x1FF2, 0x1FF4, 1, ident_first | ident_next },
		{ 0x1FF6, 0x1FFC, 1, ident_first | ident_next },
		{ 0x2071, 0x207F, 14, ident_first | ident_next },
		{ 0x2090, 0x209C, 1, ident_first | ident_next },
		{ 0x2102, 0x2107, 5, ident_first | ident_next },
		{ 0x210A, 0x2113, 1, ident_first | ident_next },
		{ 0x2115, 0x2119, 4, ident_first | ident_next },
		{ 0x211A, 0x211D, 1, ident_first | ident_next },
		{ 0x2124, 0x212A, 2, ident_first | ident_next },
		{ 0x212B, 0x212D, 1, ident_first | ident_next },
		{ 0x212F, 0x2139, 1, ident_first | ident_next },
		{ 0x213C, 0x213F, 1, ident_first | ident_next },
		{ 0x2145, 0x2149, 1, ident_first | ident_next },
		{ 0x214E, 0x2160, 18, ident_first | ident_next },
		{ 0x2161, 0x2188, 1, ident_first | ident_next },
		{ 0x24B6, 0x24E9, 1, ident_first | ident_next },
		{ 0x2C00, 0x2C2E, 1, ident_first | ident_next },
		{ 0x2C30, 0x2C5E, 1, ident_first | ident_next },
		{ 0x2C60, 0x2CE4, 1, ident_first | ident_next },
		{ 0x2CEB, 0x2CEE, 1, ident_first | ident_next },
		{ 0x2CF2, 0x2CF3, 1, ident_first | ident_next },
		{ 0x2D00, 0x2D25, 1, ident_first | ident_next },
		{ 0x2D27, 0x2D2D, 6, ident_first | ident_next },
		{ 0x2D30, 0x2D67, 1, ident_first | ident_next },
		{ 0x2D6F, 0x2D80, 17, ident_first | ident_next },
		{ 0x2D81, 0x2D96, 1, ident_first | ident_next },
		{ 0x2DA0, 0x2DA6, 1, ident_first | ident_next },
		{ 0x2DA8, 0x2DAE, 1, ident_first | ident_next },
		{ 0x2DB0, 0x2DB6, 1, ident_first | ident_next },
		{ 0x2DB8, 0x2DBE, 1, ident_first | ident_next },
		{ 0x2DC0, 0x2DC6, 1, ident_first | ident_next },
		{ 0x2DC8, 0x2DCE, 1, ident_first | ident_next },
		{ 0x2DD0, 0x2DD6, 1, ident_first | ident_next },
		{ 0x2DD8, 0x2DDE, 1, ident_first | ident_next },
		{ 0x2DE0, 0x2DFF, 1, ident_first | ident_next },
		{ 0x2E2F, 0x3005, 470, ident_first | ident_next },
		{ 0x3006, 0x3007, 1, ident_first | ident_next },
		{ 0x3021, 0x3029, 1, ident_first | ident_next },
		{ 0x3031, 0x3035, 1, ident_first | ident_next },
		{ 0x3038, 0x303C, 1, ident_first | ident_next },
		{ 0x3041, 0x3096, 1, ident_first | ident_next },
		{ 0x309D, 0x309F, 1, ident_first | ident_next },
		{ 0x30A1, 0x30FA, 1, ident_first | ident_next },
		{ 0x30FC, 0x30FF, 1, ident_first | ident_next },
		{ 0x3105, 0x312D, 1, ident_first | ident_next },
		{ 0x3131, 0x318E, 1, ident_first | ident_next },
		{ 0x31A0, 0x31BA, 1, ident_first | ident_next },
		{ 0x31F0, 0x31FF, 1, ident_first | ident_next },
		{ 0x3400, 0x4DB5, 1, ident_first | ident_next },
		{ 0x4E00, 0x9FD5, 1, ident_first | ident_next },
		{ 0xA000, 0xA48C, 1, ident_first | ident_next },
		{ 0xA4D0, 0xA4FD, 1, ident_first | ident_next },
		{ 0xA500, 0xA60C, 1, ident_first | ident_next },
		{ 0xA610, 0xA61F, 1, ident_first | ident_next },
		{ 0xA62A, 0xA62B, 1, ident_first | ident_next },
		{ 0xA640, 0xA66E, 1, ident_first | ident_next },
		{ 0xA674, 0xA67B, 1, ident_first | ident_next },
		{ 0xA67F, 0xA6EF, 1, ident_first | ident_next },
		{ 0xA717, 0xA71F, 1, ident_first | ident_next },
		{ 0xA722, 0xA788, 1, ident_first | ident_next },
		{ 0xA78B, 0xA7AD, 1, ident_first | ident_next },
		{ 0xA7B0, 0xA7B7, 1, ident_first | ident_next },
		{ 0xA7F7, 0xA801, 1, ident_first | ident_next },
		{ 0xA803, 0xA805, 1, ident_first | ident_next },
		{ 0xA807, 0xA80A, 1, ident_first | ident_next },
		{ 0xA80C, 0xA827, 1, ident_first | ident_next },
		{ 0xA840, 0xA873, 1, ident_first | ident_next },
		{ 0xA880, 0xA8C3, 1, ident_first | ident_next },
		{ 0xA8F2, 0xA8F7, 1, ident_first | ident_next },
		{ 0xA8FB, 0xA8FD, 2, ident_first | ident_next },
		{ 0xA90A, 0xA92A, 1, ident_first | ident_next },
		{ 0xA930, 0xA952, 1, ident_first | ident_next },
		{ 0xA960, 0xA97C, 1, ident_first | ident_next },
		{ 0xA980, 0xA9B2, 1, ident_first | ident_next },
		{ 0xA9B4, 0xA9BF, 1, ident_first | ident_next },
		{ 0xA9CF, 0xA9E0, 17, ident_first | ident_next },
		{ 0xA9E1, 0xA9E4, 1, ident_first | ident_next },
		{ 0xA9E6, 0xA9EF, 1, ident_first | ident_next },
		{ 0xA9FA, 0xA9FE, 1, ident_first | ident_next },
		{ 0xAA00, 0xAA36, 1, ident_first | ident_next },
		{ 0xAA40, 0xAA4D, 1, ident_first | ident_next },
		{ 0xAA60, 0xAA76, 1, ident_first | ident_next },
		{ 0xAA7A, 0xAA7E, 4, ident_first | ident_next },
		{ 0xAA7F, 0xAABE, 1, ident_first | ident_next },
		{ 0xAAC0, 0xAAC2, 2, ident_first | ident_next },
		{ 0xAADB, 0xAADD, 1, ident_first | ident_next },
		{ 0xAAE0, 0xAAEF, 1, ident_first | ident_next },
		{ 0xAAF2, 0xAAF5, 1, ident_first | ident_next },
		{ 0xAB01, 0xAB06, 1, ident_first | ident_next },
		{ 0xAB09, 0xAB0E, 1, ident_first | ident_next },
		{ 0xAB11, 0xAB16, 1, ident_first | ident_next },
		{ 0xAB20, 0xAB26, 1, ident_first | ident_next },
		{ 0xAB28, 0xAB2E, 1, ident_first | ident_next },
		{ 0xAB30, 0xAB5A, 1, ident_first | ident_next },
		{ 0xAB5C, 0xAB65, 1, ident_first | ident_next },
		{ 0xAB70, 0xABEA, 1, ident_first | ident_next },
		{ 0xAC00, 0xD7A3, 1, ident_first | ident_next },
		{ 0xD7B0, 0xD7C6, 1, ident_first | ident_next },
		{ 0xD7CB, 0xD7FB, 1, ident_first | ident_next },
		{ 0xF900, 0xFA6D, 1, ident_first | ident_next },
		{ 0xFA70, 0xFAD9, 1, ident_first | ident_next },
		{ 0xFB00, 0xFB06, 1, ident_first | ident_next },
		{ 0xFB13, 0xFB17, 1, ident_first | ident_next },
		{ 0xFB1D, 0xFB28, 1, ident_first | ident_next },
		{ 0xFB2A, 0xFB36, 1, ident_first | ident_next },
		{ 0xFB38, 0xFB3C, 1, ident_first | ident_next },
		{ 0xFB3E, 0xFB40, 2, ident_first | ident_next },
		{ 0xFB41, 0xFB43, 2, ident_first | ident_next },
		{ 0xFB44, 0xFB46, 2, ident_first | ident_next },
		{ 0xFB47, 0xFBB1, 1, ident_first | ident_next },
		{ 0xFBD3, 0xFD3D, 1, ident_first | ident_next },
		{ 0xFD50, 0xFD8F, 1, ident_first | ident_next },
		{ 0xFD92, 0xFDC7, 1, ident_first | ident_next },
		{ 0xFDF0, 0xFDFB, 1, ident_first | ident_next },
		{ 0xFE70, 0xFE74, 1, ident_first | ident_next },
		{ 0xFE76, 0xFEFC, 1, ident_first | ident_next },
		{ 0xFF21, 0xFF3A, 1, ident_first | ident_next },
		{ 0xFF41, 0xFF5A, 1, ident_first | ident_next },
		{ 0xFF66, 0xFFBE, 1, ident_first | ident_next },
		{ 0xFFC2, 0xFFC7, 1, ident_first | ident_next },
		{ 0xFFCA, 0xFFCF, 1, ident_first | ident_next },
		{ 0xFFD2, 0xFFD7, 1, ident_first | ident_next },
		{ 0xFFDA, 0xFFDC, 1, ident_first | ident_next },
		{ 0x10000, 0x1000B, 1, ident_first | ident_next },
		{ 0x1000D, 0x10026, 1, ident_first | ident_next },
		{ 0x10028, 0x1003A, 1, ident_first | ident_next },
		{ 0x1003C, 0x1003D, 1, ident_first | ident_next },
		{ 0x1003F, 0x1004D, 1, ident_first | ident_next },
		{ 0x10050, 0x1005D, 1, ident_first | ident_next },
		{ 0x10080, 0x100FA, 1, ident_first | ident_next },
		{ 0x10140, 0x10174, 1, ident_first | ident_next },
		{ 0x10280, 0x1029C, 1, ident_first | ident_next },
		{ 0x102A0, 0x102D0, 1, ident_first | ident_next },
		{ 0x10300, 0x1031F, 1, ident_first | ident_next },
		{ 0x10330, 0x1034A, 1, ident_first | ident_next },
		{ 0x10350, 0x1037A, 1, ident_first | ident_next },
		{ 0x10380, 0x1039D, 1, ident_first | ident_next },
		{ 0x103A0, 0x103C3, 1, ident_first | ident_next },
		{ 0x103C8, 0x103CF, 1, ident_first | ident_next },
		{ 0x103D1, 0x103D5, 1, ident_first | ident_next },
		{ 0x10400, 0x1049D, 1, ident_first | ident_next },
		{ 0x10500, 0x10527, 1, ident_first | ident_next },
		{ 0x10530, 0x10563, 1, ident_first | ident_next },
		{ 0x10600, 0x10736, 1, ident_first | ident_next },
		{ 0x10740, 0x10755, 1, ident_first | ident_next },
		{ 0x10760, 0x10767, 1, ident_first | ident_next },
		{ 0x10800, 0x10805, 1, ident_first | ident_next },
		{ 0x10808, 0x1080A, 2, ident_first | ident_next },
		{ 0x1080B, 0x10835, 1, ident_first | ident_next },
		{ 0x10837, 0x10838, 1, ident_first | ident_next },
		{ 0x1083C, 0x1083F, 3, ident_first | ident_next },
		{ 0x10840, 0x10855, 1, ident_first | ident_next },
		{ 0x10860, 0x10876, 1, ident_first | ident_next },
		{ 0x10880, 0x1089E, 1, ident_first | ident_next },
		{ 0x108E0, 0x108F2, 1, ident_first | ident_next },
		{ 0x108F4, 0x108F5, 1, ident_first | ident_next },
		{ 0x10900, 0x10915, 1, ident_first | ident_next },
		{ 0x10920, 0x10939, 1, ident_first | ident_next },
		{ 0x10980, 0x109B7, 1, ident_first | ident_next },
		{ 0x109BE, 0x109BF, 1, ident_first | ident_next },
		{ 0x10A00, 0x10A03, 1, ident_first | ident_next },
		{ 0x10A05, 0x10A06, 1, ident_first | ident_next },
		{ 0x10A0C, 0x10A13, 1, ident_first | ident_next },
		{ 0x10A15, 0x10A17, 1, ident_first | ident_next },
		{ 0x10A19, 0x10A33, 1, ident_first | ident_next },
		{ 0x10A60, 0x10A7C, 1, ident_first | ident_next },
		{ 0x10A80, 0x10A9C, 1, ident_first | ident_next },
		{ 0x10AC0, 0x10AC7, 1, ident_first | ident_next },
		{ 0x10AC9, 0x10AE4, 1, ident_first | ident_next },
		{ 0x10B00, 0x10B35, 1, ident_first | ident_next },
		{ 0x10B40, 0x10B55, 1, ident_first | ident_next },
		{ 0x10B60, 0x10B72, 1, ident_first | ident_next },
		{ 0x10B80, 0x10B91, 1, ident_first | ident_next },
		{ 0x10C00, 0x10C48, 1, ident_first | ident_next },
		{ 0x10C80, 0x10CB2, 1, ident_first | ident_next },
		{ 0x10CC0, 0x10CF2, 1, ident_first | ident_next },
		{ 0x11000, 0x11045, 1, ident_first | ident_next },
		{ 0x11082, 0x110B8, 1, ident_first | ident_next },
		{ 0x110D0, 0x110E8, 1, ident_first | ident_next },
		{ 0x11100, 0x11132, 1, ident_first | ident_next },
		{ 0x11150, 0x11172, 1, ident_first | ident_next },
		{ 0x11176, 0x11180, 10, ident_first | ident_next },
		{ 0x11181, 0x111BF, 1, ident_first | ident_next },
		{ 0x111C1, 0x111C4, 1, ident_first | ident_next },
		{ 0x111DA, 0x111DC, 2, ident_first | ident_next },
		{ 0x11200, 0x11211, 1, ident_first | ident_next },
		{ 0x11213, 0x11234, 1, ident_first | ident_next },
		{ 0x11237, 0x11280, 73, ident_first | ident_next },
		{ 0x11281, 0x11286, 1, ident_first | ident_next },
		{ 0x11288, 0x1128A, 2, ident_first | ident_next },
		{ 0x1128B, 0x1128D, 1, ident_first | ident_next },
		{ 0x1128F, 0x1129D, 1, ident_first | ident_next },
		{ 0x1129F, 0x112A8, 1, ident_first | ident_next },
		{ 0x112B0, 0x112E8, 1, ident_first | ident_next },
		{ 0x11300, 0x11303, 1, ident_first | ident_next },
		{ 0x11305, 0x1130C, 1, ident_first | ident_next },
		{ 0x1130F, 0x11310, 1, ident_first | ident_next },
		{ 0x11313, 0x11328, 1, ident_first | ident_next },
		{ 0x1132A, 0x11330, 1, ident_first | ident_next },
		{ 0x11332, 0x11333, 1, ident_first | ident_next },
		{ 0x11335, 0x11339, 1, ident_first | ident_next },
		{ 0x1133D, 0x11344, 1, ident_first | ident_next },
		{ 0x11347, 0x11348, 1, ident_first | ident_next },
		{ 0x1134B, 0x1134C, 1, ident_first | ident_next },
		{ 0x11350, 0x11357, 7, ident_first | ident_next },
		{ 0x1135D, 0x11363, 1, ident_first | ident_next },
		{ 0x11480, 0x114C1, 1, ident_first | ident_next },
		{ 0x114C4, 0x114C5, 1, ident_first | ident_next },
		{ 0x114C7, 0x11580, 185, ident_first | ident_next },
		{ 0x11581, 0x115B5, 1, ident_first | ident_next },
		{ 0x115B8, 0x115BE, 1, ident_first | ident_next },
		{ 0x115D8, 0x115DD, 1, ident_first | ident_next },
		{ 0x11600, 0x1163E, 1, ident_first | ident_next },
		{ 0x11640, 0x11644, 4, ident_first | ident_next },
		{ 0x11680, 0x116B5, 1, ident_first | ident_next },
		{ 0x11700, 0x11719, 1, ident_first | ident_next },
		{ 0x1171D, 0x1172A, 1, ident_first | ident_next },
		{ 0x118A0, 0x118DF, 1, ident_first | ident_next },
		{ 0x118FF, 0x11AC0, 449, ident_first | ident_next },
		{ 0x11AC1, 0x11AF8, 1, ident_first | ident_next },
		{ 0x12000, 0x12399, 1, ident_first | ident_next },
		{ 0x12400, 0x1246E, 1, ident_first | ident_next },
		{ 0x12480, 0x12543, 1, ident_first | ident_next },
		{ 0x13000, 0x1342E, 1, ident_first | ident_next },
		{ 0x14400, 0x14646, 1, ident_first | ident_next },
		{ 0x16800, 0x16A38, 1, ident_first | ident_next },
		{ 0x16A40, 0x16A5E, 1, ident_first | ident_next },
		{ 0x16AD0, 0x16AED, 1, ident_first | ident_next },
		{ 0x16B00, 0x16B36, 1, ident_first | ident_next },
		{ 0x16B40, 0x16B43, 1, ident_first | ident_next },
		{ 0x16B63, 0x16B77, 1, ident_first | ident_next },
		{ 0x16B7D, 0x16B8F, 1, ident_first | ident_next },
		{ 0x16F00, 0x16F44, 1, ident_first | ident_next },
		{ 0x16F50, 0x16F7E, 1, ident_first | ident_next },
		{ 0x16F93, 0x16F9F, 1, ident_first | ident_next },
		{ 0x1B000, 0x1B001, 1, ident_first | ident_next },
		{ 0x1BC00, 0x1BC6A, 1, ident_first | ident_next },
		{ 0x1BC70, 0x1BC7C, 1, ident_first | ident_next },
		{ 0x1BC80, 0x1BC88, 1, ident_first | ident_next },
		{ 0x1BC90, 0x1BC99, 1, ident_first | ident_next },
		{ 0x1BC9E, 0x1D400, 5986, ident_first | ident_next },
		{ 0x1D401, 0x1D454, 1, ident_first | ident_next },
		{ 0x1D456, 0x1D49C, 1, ident_first | ident_next },
		{ 0x1D49E, 0x1D49F, 1, ident_first | ident_next },
		{ 0x1D4A2, 0x1D4A5, 3, ident_first | ident_next },
		{ 0x1D4A6, 0x1D4A9, 3, ident_first | ident_next },
		{ 0x1D4AA, 0x1D4AC, 1, ident_first | ident_next },
		{ 0x1D4AE, 0x1D4B9, 1, ident_first | ident_next },
		{ 0x1D4BB, 0x1D4BD, 2, ident_first | ident_next },
		{ 0x1D4BE, 0x1D4C3, 1, ident_first | ident_next },
		{ 0x1D4C5, 0x1D505, 1, ident_first | ident_next },
		{ 0x1D507, 0x1D50A, 1, ident_first | ident_next },
		{ 0x1D50D, 0x1D514, 1, ident_first | ident_next },
		{ 0x1D516, 0x1D51C, 1, ident_first | ident_next },
		{ 0x1D51E, 0x1D539, 1, ident_first | ident_next },
		{ 0x1D53B, 0x1D53E, 1, ident_first | ident_next },
		{ 0x1D540, 0x1D544, 1, ident_first | ident_next },
		{ 0x1D546, 0x1D54A, 4, ident_first | ident_next },
		{ 0x1D54B, 0x1D550, 1, ident_first | ident_next },
		{ 0x1D552, 0x1D6A5, 1, ident_first | ident_next },
		{ 0x1D6A8, 0x1D6C0, 1, ident_first | ident_next },
		{ 0x1D6C2, 0x1D6DA, 1, ident_first | ident_next },
		{ 0x1D6DC, 0x1D6FA, 1, ident_first | ident_next },
		{ 0x1D6FC, 0x1D714, 1, ident_first | ident_next },
		{ 0x1D716, 0x1D734, 1, ident_first | ident_next },
		{ 0x1D736, 0x1D74E, 1, ident_first | ident_next },
		{ 0x1D750, 0x1D76E, 1, ident_first | ident_next },
		{ 0x1D770, 0x1D788, 1, ident_first | ident_next },
		{ 0x1D78A, 0x1D7A8, 1, ident_first | ident_next },
		{ 0x1D7AA, 0x1D7C2, 1, ident_first | ident_next },
		{ 0x1D7C4, 0x1D7CB, 1, ident_first | ident_next },
		{ 0x1E800, 0x1E8C4, 1, ident_first | ident_next },
		{ 0x1EE00, 0x1EE03, 1, ident_first | ident_next },
		{ 0x1EE05, 0x1EE1F, 1, ident_first | ident_next },
		{ 0x1EE21, 0x1EE22, 1, ident_first | ident_next },
		{ 0x1EE24, 0x1EE27, 3, ident_first | ident_next },
		{ 0x1EE29, 0x1EE32, 1, ident_first | ident_next },
		{ 0x1EE34, 0x1EE37, 1, ident_first | ident_next },
		{ 0x1EE39, 0x1EE3B, 2, ident_first | ident_next },
		{ 0x1EE42, 0x1EE47, 5, ident_first | ident_next },
		{ 0x1EE49, 0x1EE4D, 2, ident_first | ident_next },
		{ 0x1EE4E, 0x1EE4F, 1, ident_first | ident_next },
		{ 0x1EE51, 0x1EE52, 1, ident_first | ident_next },
		{ 0x1EE54, 0x1EE57, 3, ident_first | ident_next },
		{ 0x1EE59, 0x1EE61, 2, ident_first | ident_next },
		{ 0x1EE62, 0x1EE64, 2, ident_first | ident_next },
		{ 0x1EE67, 0x1EE6A, 1, ident_first | ident_next },
		{ 0x1EE6C, 0x1EE72, 1, ident_first | ident_next },
		{ 0x1EE74, 0x1EE77, 1, ident_first | ident_next },
		{ 0x1EE79, 0x1EE7C, 1, ident_first | ident_next },
		{ 0x1EE7E, 0x1EE80, 2, ident_first | ident_next },
		{ 0x1EE81, 0x1EE89, 1, ident_first | ident_next },
		{ 0x1EE8B, 0x1EE9B, 1, ident_first | ident_next },
		{ 0x1EEA1, 0x1EEA3, 1, ident_first | ident_next },
		{ 0x1EEA5, 0x1EEA9, 1, ident_first | ident_next },
		{ 0x1EEAB, 0x1EEBB, 1, ident_first | ident_next },
		{ 0x1F130, 0x1F149, 1, ident_first | ident_next },
		{ 0x1F150, 0x1F169, 1, ident_first | ident_next },
		{ 0x1F170, 0x1F189, 1, ident_first | ident_next },
		{ 0x20000, 0x2A6D6, 1, ident_first | ident_next },
		{ 0x2A700, 0x2B734, 1, ident_first | ident_next },
		{ 0x2B740, 0x2B81D, 1, ident_first | ident_next },
		{ 0x2B820, 0x2CEA1, 1, ident_first | ident_next },
		{ 0x2F800, 0x2FA1D, 1, ident_first | ident_next },
	};	
	return detect_charset(charsets, table_size(charsets), ch); 
}


#define _source_foreach(SRC, CH, COND, ...) \
	for(CH = getch(SRC); (!is_eof(SRC)) && (COND); CH = nextch(SRC) ) 
#define source_foreach(SRC, ...) _source_foreach(SRC, __VA_ARGS__, 1)


#define match_rep(pattern) \
	for(matched=0;;\
		matched=1, ch = nextch(src) ) if( !(pattern) || is_eof(src) ){\
			if(!matched){ notmatch }else{ break; }\
	}else


#define match_repopt(pattern) \
	for(;\
		( (pattern) && !is_eof(src)  );\
		ch = nextch(src) )




#define RETCODEeof (-1)

#define LEXEMEon_eof return RETCODEeof

// #define LEXEMEsrc src




#define LEXEMEoptional(P) \
	if( is_eof(src) ){ LEXEMEon_eof; }else if( (P) ? (1, ch=nextch(src)) : 0 )
	



#define LEXEMErepeat(P) \
	for(int _matched_##__LINE__=1; _matched_##__LINE__; ch = nextch(src) )\
		if( is_eof(src) ){ LEXEMEon_eof; }else if( (_matched_##__LINE__=(P)) )






#define match_opt(pattern) \
	if( is_eof(src) ){ match_fn_matched; }else if( matched=(pattern) ){ ch=nextch(src); }

#define match_single(pattern) {\
	matched=( (pattern) && !is_eof(src) );\
	if( matched ){ ch=nextch(src); } else{ notmatch; }\
}

#define match_while(pattern, while_pattern) \
	for(matched=0; ;\
		ch = nextch(src) ) if( !(pattern) || is_eof(src) ){ notmatch }else\
			if ( !while_pattern(src) ) break;
			


static struct range_table sys_a_charset[] = {
	{ 0x41, 0x5A, 1 },
	{ 0x61, 0x7A, 1 },
};
define_category(sys_a)

static struct range_table sys_d_charset[] = {
	{ 0x30, 0x39, 1 },
};
define_category(sys_d)

static struct range_table sys_s_charset[] = {
	{ 0x9, 0xA, 1 },
	{ 0xD, 0x20, 19 },
};
define_category(sys_s)

static struct range_table sys_h_charset[] = {
	{ 0x30, 0x39, 1 },
	{ 0x41, 0x46, 1 },
	{ 0x61, 0x66, 1 },
};
define_category(sys_h)





#define new_source(S, SE) 	{ S, SE, 1, 1, 0, 0 }
#define is_eof(SRC) 			( (SRC)->s >= (SRC)->se )
#define getpos(SRC) 			( (SRC)->pos )
#define getline(SRC) 		( (SRC)->line )
#define getstr(SRC) 			( (SRC).s )
#define getch(SRC) 			( (SRC)->ch )

size_t fsize(FILE* f){ 
	long int fp=ftell(f); 	fseek(f, 0L, SEEK_END); 
	size_t sz=ftell(f)-fp;	fseek(f, fp, SEEK_SET);
	return sz;
}

static unsigned nextch(source *src) {
	#define RETURN(CH, SH) { src->ch=(CH);\
		if(src->ch=='\n'){ src->pos=1; (src->line)++; }else (src->pos)++;\
		src->sh=(SH); return src->ch;\
	}
	src->s+=src->sh;
	if (is_eof(src)) RETURN(0, 0);
	unsigned ch; const char *s=src->s; const char * const e=src->se;

	ch = (unsigned char)s[0];
	if (ch < 0xC0) goto fallback;
	if (ch < 0xE0) {
		if (s+1 >= e || (s[1] & 0xC0) != 0x80) goto fallback;
		RETURN( ((ch   & 0x1F) << 6) | (s[1] & 0x3F), 2 );
	}
	if (ch < 0xF0) {
		if (s+2 >= e || (s[1] & 0xC0) != 0x80 || (s[2] & 0xC0) != 0x80) goto fallback;
		RETURN( ((ch   & 0x0F) << 12) | ((s[1] & 0x3F)<< 6) | (s[2] & 0x3F), 3 );
	}
	{
		int count = 0; /* to count number of continuation bytes */
		unsigned res = 0;
		while ((ch & 0x40) != 0) { /* still have continuation bytes? */
			int cc = (unsigned char)s[++count];
			if ((cc & 0xC0) != 0x80) goto fallback; /* invalid byte sequence, fallback */
			res = (res << 6) | (cc & 0x3F); /* add lower 6 bits from cont. byte */
			ch <<= 1; /* to test next bit */
		}
		if (count > 5) goto fallback; /* invalid byte sequence */
		res |= ((ch & 0x7F) << (count * 5)); /* add first byte */
		RETURN( res, count+1 );
	}

	fallback: RETURN( ch, 1 );
	#undef RETURN
}

source* new_source_from_file(const char *fname, source * src){
	static const unsigned utf8_bom = 0xBFBBEF;
	unsigned utf8_check_bom = 0;
	assert( fname );
	FILE*file = fopen(fname, "r"); assert( file );
	assert( fread(&utf8_check_bom, 1, 3, file)==3 );
	if( utf8_check_bom!=utf8_bom ){ rewind(file);  }//printf("BOM: %x!=%x\n", utf8_bom, utf8_check_bom);
	size_t l = fsize(file);
	char *s = malloc(l*sizeof(*s));
	assert( fread(s, 1, l, file)==l); 
	fclose(file);
	s[l]=0;
	source new_src = new_source(s, s+l);
	*src = new_src;
	nextch(src);
	return src;
}

#endif /* ltrie_lexer_h */
